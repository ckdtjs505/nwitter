{"version":3,"sources":["components/Loading.tsx","components/Error.tsx","firebase.tsx","components/AuthForm.tsx","route/Auth.tsx","assets/default.png","components/NweetBtns.tsx","components/Nweets.tsx","components/NweetsForm.tsx","components/LoadingFile.tsx","route/Home.tsx","context.tsx","route/Profile.tsx","components/NavList.tsx","components/Navigator.tsx","route/Nweet.tsx","Router.tsx","provider/AuthProvider.tsx","reset.css.js","index.tsx"],"names":["Layout","styled","div","Loading","type","color","height","width","loginException","errorValue","error","code","alert","console","log","message","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseAuth","getAuth","firestore","getFirestore","fireCollection","collection","fireStoage","getAnalytics","getStorage","googleLoginProvider","GoogleAuthProvider","LoginForm","form","Input","input","AuthButton","button","AuthForm","useState","email","setEmail","password","setPassword","createNewAccount","setCreateNewAccount","setError","handleInput","e","target","name","value","hanldeSubmit","a","preventDefault","createUserWithEmailAndPassword","result","signInWithEmailAndPassword","onSubmit","onChange","placeholder","required","onClick","AuthFormDiv","AuthLayout","Img","img","AuthBox","Subtitle","h2","Title","h1","Auth","src","draggable","size","signInWithPopup","catch","Contents","BtnBox","NweetsBtns","like","relay","id","isLoginUserLike","includes","currentUser","uid","handleLikeBtnClick","stopPropagation","likeData","filter","ele","updateDoc","doc","length","NweetData","ContentHeader","NweetImg","span","Button","SettingBtn","InfoText","p","InputFix","DefaultButton","Nweets","info","isOwner","isEdit","setIsEdit","text","editText","setEditText","history","useHistory","handleDelete","getDoc","parent","data","confirm","deleteDoc","fileUrl","deleteObject","ref","handleSumbit","prev","push","createdAd","userPhotoURL","defaultImg","alt","userNickName","Date","getMonth","getDate","Form","FileInput","NweetsInput","UploadBox","NweetBtn","Content","NweetsFrom","relayId","setText","uploadFile","setUploadFile","handleSubmit","uuidv4","fileRef","uploadString","getDownloadURL","addDoc","now","userId","photoURL","displayName","then","undefined","maxLength","htmlFor","accept","files","reader","FileReader","onloadend","String","readAsDataURL","LoadingFile","radius","Main","TitleBox","Home","nweets","setNweets","useEffect","onSnapshot","snapShot","nweetsInfo","docs","map","sort","b","AuthContext","React","createContext","ProfileDiv","Msg","Profile","userInfo","useContext","userNweets","setUserNweets","newdisplayName","setNewDisplayName","handleNickSumbit","updateProfile","updateUser","where","userData","query","_query","getDocs","forEach","document","signOut","idx","NavItem","Link","Item","Text","IconBox","Icon","IconSvg","NavList","to","toLowerCase","defaultValue","location","pathname","Container","nav","Strong","strong","UserBox","ToolTipUserBox","UserSetting","ThreeDot","IoIosMore","Checkmark","FcCheckmark","ToolTip","LogoutButton","NavBox","Navigator","isClickUserBox","setIsClickUserBox","update","window","addEventListener","removeEventListener","style","ArrowLeftbtn","ArrowIcon","FiArrowLeft","ImgBox","UserValue","NickName","Time","Nweet","useParams","nweet","setNweet","subNweet","setSubNweet","nweetInfo","relayListData","_","Promise","all","results","relayList","goBack","toDateString","Routes","init","isLogin","exact","path","AuthProvider","children","setInit","setIsLogin","setDisplayName","onAuthStateChanged","firebaseUser","userValue","Provider","GlobalStyle","createGlobalStyle","App","className","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.430a3f04.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Layout = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n`;\r\n\r\nconst Loading: React.FC = () => {\r\n  return (\r\n    <Layout>\r\n      <Loader type=\"Rings\" color=\"#000000\" height={80} width={80} />\r\n      <div>loading... </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","export class loginException {\r\n  constructor() {}\r\n\r\n  static errorValue = (error: { code: string; message: string }) => {\r\n    switch (error.code) {\r\n      case \"auth/user-not-found\":\r\n        // TODO 로그인 페이지로 이동\r\n        alert(\"유저정보가 없습니다. 회원가입 후 이용해주세요\");\r\n        break;\r\n      case \"auth/wrong-password\":\r\n        alert(\"비밀번호가 잘못되었습니다. 다시 시도해주세요\");\r\n        break;\r\n      default:\r\n        console.log(error);\r\n        break;\r\n    }\r\n\r\n    return error.message;\r\n  };\r\n}\r\n","import { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\nimport { getStorage } from \"firebase/storage\";\r\nimport { getFirestore, collection } from \"firebase/firestore\";\r\nimport { getAuth, GoogleAuthProvider } from \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_APIKEY,\r\n  authDomain: process.env.REACT_APP_AUTHDOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n};\r\n\r\n// Initialize Firebase\r\nexport const firebase = initializeApp(firebaseConfig);\r\nexport const firebaseAuth = getAuth();\r\nexport const firestore = getFirestore(firebase);\r\nexport const fireCollection = collection(firestore, \"nweets\");\r\nexport const analytics = getAnalytics(firebase);\r\nexport const fireStoage = getStorage(firebase);\r\n\r\n// 구글 로그인\r\nexport const googleLoginProvider = new GoogleAuthProvider();\r\n","import { createUserWithEmailAndPassword, signInWithEmailAndPassword } from \"@firebase/auth\";\r\nimport { loginException } from \"components/Error\";\r\nimport { firebaseAuth } from \"firebase\";\r\nimport React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst LoginForm = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-size: 1.2rem;\r\n  line-height: 2rem;\r\n  font-weight: 700;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 80%;\r\n  margin-bottom: 1rem;\r\n  height: 2rem;\r\n  border-radius: 0.5rem;\r\n  border: none;\r\n  border-bottom: rgb(239, 243, 244) 1px solid;\r\n  padding-left: 0.8rem;\r\n  font-size: 1.2rem;\r\n  prefix: 1rem;\r\n`;\r\n\r\nexport const AuthButton = styled.button`\r\n  width: 80%;\r\n  height: 2rem;\r\n  margin-bottom: 1rem;\r\n  font-size: 1rem;\r\n  font-weight: 700;\r\n  background-color: white;\r\n  border-radius: 0.5rem;\r\n  border: solid 1px black;\r\n`;\r\n\r\nconst AuthForm: React.FC = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [createNewAccount, setCreateNewAccount] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // 아이디 비밀번호 입력시\r\n  const handleInput = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.name === \"elEmail\") {\r\n      setEmail(e.target.value);\r\n    } else if (e.target.name === \"elPassword\") {\r\n      setPassword(e.target.value);\r\n    }\r\n  };\r\n\r\n  // 로그인, 계정 생성 버튼\r\n  const hanldeSubmit = async (e: React.SyntheticEvent) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      let result;\r\n      if (createNewAccount) {\r\n        // 계정 생성\r\n        result = await createUserWithEmailAndPassword(firebaseAuth, email, password);\r\n      } else {\r\n        // 로그인\r\n        result = await signInWithEmailAndPassword(firebaseAuth, email, password);\r\n      }\r\n      console.log(result);\r\n    } catch (error) {\r\n      // TODO - Error 코드 파일로 빼기\r\n      setError(loginException.errorValue(error as { code: string; message: string }));\r\n    }\r\n  };\r\n\r\n  const handleClickCreateNew = () => {\r\n    setCreateNewAccount(true);\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <LoginForm onSubmit={hanldeSubmit}>\r\n        <Input\r\n          value={email}\r\n          name=\"elEmail\"\r\n          type=\"email\"\r\n          onChange={handleInput}\r\n          placeholder={\"아이디\"}\r\n          required\r\n        ></Input>\r\n\r\n        <Input\r\n          value={password}\r\n          name=\"elPassword\"\r\n          type=\"password\"\r\n          onChange={handleInput}\r\n          placeholder={\"비밀번호\"}\r\n          required\r\n        ></Input>\r\n        <AuthButton name=\"login\" type=\"submit\">\r\n          {createNewAccount ? \"아이디 생성하기\" : \"로그인\"}\r\n        </AuthButton>\r\n      </LoginForm>\r\n      {!createNewAccount ? <AuthButton onClick={handleClickCreateNew}>회원가입</AuthButton> : \"\"}\r\n      <div>{error ? error : \"\"}</div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AuthForm;\r\n","import { signInWithPopup } from \"@firebase/auth\";\r\nimport AuthForm, { AuthButton } from \"components/AuthForm\";\r\nimport { firebaseAuth, googleLoginProvider } from \"firebase\";\r\nimport styled from \"styled-components\";\r\nimport { FcCloseUpMode, FcGoogle } from \"react-icons/fc\";\r\nimport React from \"react\";\r\n\r\nconst AuthFormDiv = styled(AuthForm)`\r\n  margin-top: 1rem;\r\n`;\r\n\r\nconst AuthLayout = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  justify-content: center;\r\n  @media (max-width: 860px) {\r\n    flex-direction: column-reverse;\r\n    width: 100%;\r\n    margin-top: 3rem;\r\n  }\r\n`;\r\n\r\nconst Img = styled.img`\r\n  width: 60%;\r\n  height: 100vh;\r\n\r\n  @media (max-width: 860px) {\r\n    z-index: -1;\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst AuthBox = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  margin: auto;\r\n  margin-left: 2rem;\r\n`;\r\n\r\nconst Subtitle = styled.h2`\r\n  font-size: 31px;\r\n  font-weight: 700;\r\n  text-decoration: none solid rgb(15, 20, 25);\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 50px;\r\n  font-weight: 700;\r\n  text-decoration: none solid rgb(15, 20, 25);\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nconst Auth: React.FC = () => {\r\n  // 소셜 로그인 버튼 클릭시\r\n  const onClickSocialLogin = () => {\r\n    signInWithPopup(firebaseAuth, googleLoginProvider).catch(error => {\r\n      console.log(error);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <AuthLayout>\r\n      <Img src=\"https://abs.twimg.com/sticky/illustrations/lohp_1302x955.png\" draggable=\"false\" />\r\n      <AuthBox>\r\n        <FcCloseUpMode size=\"2.5rem\" />\r\n        <Title> Happening now </Title>\r\n        <Subtitle> Join Nwitter today. </Subtitle>\r\n        <AuthFormDiv></AuthFormDiv>\r\n        <AuthButton name=\"Goggle\" onClick={onClickSocialLogin}>\r\n          <FcGoogle /> Google 계정으로 로그인하기\r\n        </AuthButton>\r\n      </AuthBox>\r\n    </AuthLayout>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","export default __webpack_public_path__ + \"static/media/default.1a3f2e43.png\";","import { doc, updateDoc } from \"@firebase/firestore\";\r\nimport { firebaseAuth, firestore } from \"firebase\";\r\nimport React from \"react\";\r\nimport { AiOutlineRetweet } from \"react-icons/ai\";\r\nimport { BiShare } from \"react-icons/bi\";\r\nimport { FcLike } from \"react-icons/fc\";\r\nimport { GoComment } from \"react-icons/go\";\r\nimport { HiOutlineHeart } from \"react-icons/hi\";\r\nimport styled from \"styled-components\";\r\n\r\ninterface Props {\r\n  id: string;\r\n  like: string[];\r\n  relay: string[];\r\n}\r\n\r\nconst Contents = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  margin-top: 0.5rem;\r\n`;\r\n\r\nconst BtnBox = styled.button`\r\n  border: none;\r\n  background: none;\r\n  width: 25px;\r\n  height: 25px;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    border-radius: 5rem;\r\n    background-color: #e1eef6;\r\n  }\r\n`;\r\n\r\nconst NweetsBtns: React.FC<Props> = ({ like = [], relay = [], id }) => {\r\n  const isLoginUserLike = () => {\r\n    return like.includes(firebaseAuth.currentUser?.uid ? firebaseAuth.currentUser?.uid : \"\");\r\n  };\r\n  const handleLikeBtnClick = async (e: React.MouseEvent<HTMLButtonElement>) => {\r\n    e.stopPropagation();\r\n\r\n    let likeData;\r\n    if (isLoginUserLike()) {\r\n      likeData = [...like].filter(ele => ele !== firebaseAuth.currentUser?.uid);\r\n    } else {\r\n      likeData = [...like, firebaseAuth.currentUser?.uid];\r\n    }\r\n    await updateDoc(doc(firestore, `nweets/${id}`), {\r\n      like: likeData\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Contents>\r\n      <div>\r\n        <BtnBox>\r\n          <GoComment size={15} />\r\n        </BtnBox>\r\n        {relay.length > 0 ? relay.length : \"\"}\r\n      </div>\r\n      <div>\r\n        <BtnBox>\r\n          <AiOutlineRetweet size={15} />\r\n        </BtnBox>\r\n      </div>\r\n      <div>\r\n        {isLoginUserLike() ? (\r\n          <BtnBox onClick={handleLikeBtnClick}>\r\n            <FcLike size={15} />\r\n          </BtnBox>\r\n        ) : (\r\n          <BtnBox onClick={handleLikeBtnClick}>\r\n            <HiOutlineHeart size={15} />\r\n          </BtnBox>\r\n        )}\r\n\r\n        {like && like.length > 0 ? like.length : \"\"}\r\n      </div>\r\n      <div>\r\n        <BtnBox>\r\n          <BiShare size={15} />\r\n        </BtnBox>\r\n      </div>\r\n    </Contents>\r\n  );\r\n};\r\n\r\nexport default NweetsBtns;\r\n","import { fireStoage, firestore } from \"firebase\";\r\nimport { deleteDoc, doc, getDoc, updateDoc } from \"@firebase/firestore\";\r\nimport React, { useState } from \"react\";\r\nimport { deleteObject, ref } from \"@firebase/storage\";\r\nimport styled from \"styled-components\";\r\nimport defaultImg from \"../assets/default.png\";\r\nimport { MdDelete, MdOutlineEdit } from \"react-icons/md\";\r\nimport { useHistory } from \"react-router\";\r\nimport NweetBtn from \"components/NweetBtns\";\r\n\r\nconst NweetData = styled.div`\r\n  display: flex;\r\n  padding: 10px;\r\n  min-height: 60px;\r\n  border-bottom: rgb(239, 243, 244) 1px solid;\r\n  justify-content: space-between;\r\n\r\n  &:hover {\r\n    background-color: #f3f4f6;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst Img = styled.img`\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 5rem;\r\n  margin-left: 0.5rem;\r\n  margin-right: 0.5rem;\r\n`;\r\n\r\nconst Contents = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nconst ContentHeader = styled.h2`\r\n  margin-bottom: 0.5rem;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const NweetImg = styled.img`\r\n  max-width: 100%;\r\n  width: 96%;\r\n  height: auto;\r\n  border: solid 1px #d6dfe3;\r\n  border-radius: 1rem;\r\n  margin-top: 0.5rem;\r\n`;\r\n\r\nconst Title = styled.span`\r\n  font-weight: 700;\r\n  font-size: 1.2rem;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background: none;\r\n  border: none;\r\n`;\r\n\r\nconst SettingBtn = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport const InfoText = styled.p`\r\n  width: 100%;\r\n  word-break: break-all;\r\n  padding-bottom: 0.5rem;\r\n`;\r\n\r\nconst InputFix = styled.input`\r\n  width: 80%;\r\n`;\r\n\r\nexport const DefaultButton = styled.button`\r\n  border: none;\r\n  color: black;\r\n  /* width: 2.5rem; */\r\n  height: 1.5rem;\r\n`;\r\n\r\ninterface Props {\r\n  info: {\r\n    text?: string;\r\n    id: string;\r\n    fileUrl?: string;\r\n    userPhotoURL?: string;\r\n    userNickName?: string;\r\n    createdAd: number;\r\n    like: string[];\r\n    relay: string[];\r\n    parent: string;\r\n  };\r\n  isOwner: boolean;\r\n}\r\n\r\nconst Nweets: React.FC<Props> = ({ info, isOwner }) => {\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const [editText, setEditText] = useState(info.text);\r\n  const history = useHistory();\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const {\r\n      target: { value }\r\n    } = e;\r\n    setEditText(value);\r\n  };\r\n\r\n  const handleDelete = async (e: React.MouseEvent<HTMLButtonElement>) => {\r\n    e.stopPropagation();\r\n    const data: any = await (await getDoc(doc(firestore, `nweets/${info.parent}`))).data();\r\n    const ok = confirm(\"정말로 삭제하시겠습니까?\");\r\n    if (ok) {\r\n      deleteDoc(doc(firestore, `nweets/${info.id}`));\r\n      if (info.fileUrl) deleteObject(ref(fireStoage, info.fileUrl));\r\n      // 부모 뉴윗에서 제거하기\r\n      if (info.parent)\r\n        updateDoc(doc(firestore, `nweets/${info.parent}`), {\r\n          relay: data && data.relay.filter((ele: any) => ele !== info.id)\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleToggle = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n    e.stopPropagation();\r\n    setIsEdit(prev => !prev);\r\n  };\r\n\r\n  const handleSumbit = async (e: React.SyntheticEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    setIsEdit(prev => !prev);\r\n\r\n    await updateDoc(doc(firestore, `nweets/${info.id}`), {\r\n      text: editText\r\n    });\r\n  };\r\n\r\n  const hanldNweetClick = () => {\r\n    history.push(`/${info.id}/${info.createdAd}`);\r\n  };\r\n\r\n  return (\r\n    <div key={info.id}>\r\n      <NweetData onClick={hanldNweetClick}>\r\n        <Img src={info.userPhotoURL === null ? defaultImg : info.userPhotoURL} alt=\"\" />\r\n        <Contents>\r\n          <ContentHeader>\r\n            <div>\r\n              <Title>{info.userNickName} </Title>\r\n              {` · ${new Date(info.createdAd).getMonth() + 1}/${new Date(\r\n                info.createdAd\r\n              ).getDate()}`}\r\n            </div>\r\n\r\n            {isOwner && (\r\n              <SettingBtn>\r\n                <Button onClick={handleDelete}>\r\n                  <MdDelete />\r\n                </Button>\r\n                <Button onClick={handleToggle}>\r\n                  <MdOutlineEdit />\r\n                </Button>\r\n              </SettingBtn>\r\n            )}\r\n          </ContentHeader>\r\n\r\n          {isEdit ? (\r\n            <form onSubmit={handleSumbit}>\r\n              <InputFix\r\n                type=\"text\"\r\n                placeholder={\"수정할 데이터를 입력해주세요\"}\r\n                onChange={handleChange}\r\n                onClick={e => {\r\n                  // 불필요하게 중복된 소스인듯.. 못고칠까?\r\n                  e.stopPropagation();\r\n                }}\r\n                value={editText}\r\n              />\r\n              <DefaultButton\r\n                type=\"submit\"\r\n                onClick={e => {\r\n                  // 불필요하게 중복된 소스인듯.. 못고칠까?\r\n                  e.stopPropagation();\r\n                }}\r\n              >\r\n                완료\r\n              </DefaultButton>\r\n            </form>\r\n          ) : (\r\n            <InfoText> {info.text} </InfoText>\r\n          )}\r\n\r\n          {info.fileUrl && <NweetImg src={info.fileUrl} />}\r\n\r\n          <NweetBtn id={info.id} like={info.like} relay={info.relay} />\r\n        </Contents>\r\n      </NweetData>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Nweets;\r\n","/* eslint-disable no-unused-vars */\r\nimport { firebaseAuth, fireCollection, fireStoage, firestore } from \"firebase\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { getDownloadURL, ref, uploadString } from \"@firebase/storage\";\r\nimport defaultImg from \"assets/default.png\";\r\nimport { FiImage } from \"react-icons/fi\";\r\nimport React, { useState } from \"react\";\r\nimport { addDoc, doc, updateDoc } from \"@firebase/firestore\";\r\nimport styled from \"styled-components\";\r\nimport { DefaultButton, NweetImg } from \"./Nweets\";\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  padding: 10px;\r\n  border-bottom: rgb(239, 243, 244) 1px solid;\r\n`;\r\n\r\nconst Img = styled.img`\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 5rem;\r\n  margin-left: 0.5rem;\r\n  margin-right: 0.5rem;\r\n`;\r\n\r\nconst FileInput = styled.input`\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  margin: -1px;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  border: 0;\r\n`;\r\n\r\nconst NweetsInput = styled.input`\r\n  border: none;\r\n  margin-top: 1rem;\r\n  font-size: 20px;\r\n  width: 100%;\r\n`;\r\n\r\nconst UploadBox = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  margin-top: 1rem;\r\n  padding-top: 1rem;\r\n  border-top: rgb(239, 243, 244) 1px solid;\r\n`;\r\n\r\nconst NweetBtn = styled.button`\r\n  background-color: #1d9bf0;\r\n  color: white;\r\n  height: 36px;\r\n  width: 75.9688px;\r\n  font-weight: 700;\r\n  font-size: 15px;\r\n  border: none;\r\n  border-radius: 2rem;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\ninterface Props {\r\n  relayId?: string;\r\n  relay?: string[];\r\n}\r\n\r\nconst NweetsFrom: React.FC<Props> = ({ relayId, relay = [] }) => {\r\n  const [text, setText] = useState(\"\");\r\n  const [uploadFile, setUploadFile] = useState<string | undefined | null>(null);\r\n  // 텍스트 입력시\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const {\r\n      target: { value }\r\n    } = e;\r\n    setText(value);\r\n  };\r\n\r\n  // form tag submit시\r\n  const handleSubmit = async (e: React.SyntheticEvent) => {\r\n    e.preventDefault();\r\n\r\n    // 값이 비어있는 경우 예외처리\r\n    if (text === \"\") {\r\n      alert(\"텍스트를 입력해주세욧\");\r\n      return;\r\n    }\r\n\r\n    setText(\"\");\r\n    setUploadFile(null);\r\n\r\n    let fileUrl = \"\";\r\n    if (uploadFile) {\r\n      const fileRef = await ref(fireStoage, `${firebaseAuth.currentUser?.uid}/${uuidv4()}`);\r\n      await uploadString(fileRef, uploadFile, \"data_url\");\r\n      fileUrl = await getDownloadURL(fileRef);\r\n    }\r\n\r\n    await addDoc(fireCollection, {\r\n      text,\r\n      createdAd: Date.now(),\r\n      userId: firebaseAuth.currentUser?.uid,\r\n      userPhotoURL: firebaseAuth.currentUser?.photoURL,\r\n      userNickName: firebaseAuth.currentUser?.displayName,\r\n      like: [],\r\n      relay: [],\r\n      parent: relayId ? relayId : null,\r\n      fileUrl\r\n    }).then(ele => {\r\n      if (relayId) {\r\n        // 부모 컨포넌트에 생겨야한다.\r\n        updateDoc(doc(firestore, `nweets/${relayId}`), {\r\n          relay: [...relay, ele.id]\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const {\r\n      target: { files }\r\n    } = e;\r\n    const uploadFile = files?.[0];\r\n    const reader = new FileReader();\r\n    reader.onloadend = (e: ProgressEvent<FileReader>) => {\r\n      setUploadFile(String(e.target?.result));\r\n    };\r\n    if (uploadFile) reader.readAsDataURL(uploadFile);\r\n  };\r\n\r\n  const handleDeleteImg = () => {\r\n    setUploadFile(null);\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Img\r\n        src={\r\n          firebaseAuth.currentUser?.photoURL == undefined\r\n            ? defaultImg\r\n            : firebaseAuth.currentUser?.photoURL\r\n        }\r\n      />\r\n\r\n      <Content>\r\n        <NweetsInput\r\n          value={text}\r\n          onChange={handleChange}\r\n          type=\"text\"\r\n          placeholder={relayId ? \"댓글쓰기\" : \"What`s happening?\"}\r\n          maxLength={120}\r\n        ></NweetsInput>\r\n\r\n        {uploadFile && (\r\n          <div>\r\n            <NweetImg src={uploadFile} />\r\n            <DefaultButton onClick={handleDeleteImg}> 이미지 삭제 </DefaultButton>\r\n          </div>\r\n        )}\r\n\r\n        <UploadBox>\r\n          <div>\r\n            <label htmlFor=\"upload\">\r\n              <FiImage size={25} />\r\n            </label>\r\n            <FileInput id=\"upload\" type=\"file\" accept=\"image/*\" onChange={handleFileChange} />\r\n          </div>\r\n\r\n          <NweetBtn type=\"submit\">Nweet</NweetBtn>\r\n        </UploadBox>\r\n      </Content>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default NweetsFrom;\r\n","import Loader from \"react-loader-spinner\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Layout = styled.div`\r\n  width: 100%;\r\n  text-align: center;\r\n  margin-top: 0.5rem;\r\n`;\r\nconst LoadingFile = () => {\r\n  return (\r\n    <Layout>\r\n      <Loader type=\"TailSpin\" height={30} width={30} color=\"#1d9bf0\" radius={10} />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default LoadingFile;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { onSnapshot } from \"@firebase/firestore\";\r\nimport Nweets from \"components/Nweets\";\r\nimport NweetsFrom from \"components/NweetsForm\";\r\nimport { firebaseAuth, fireCollection } from \"firebase\";\r\nimport styled from \"styled-components\";\r\nimport LoadingFile from \"components/LoadingFile\";\r\n\r\nexport interface nweetsType {\r\n  id: string;\r\n  text?: string;\r\n  userId?: string;\r\n  userNickName?: string;\r\n  userPhotoURL?: string;\r\n  createdAd: number;\r\n  fileUrl?: string;\r\n  like: string[];\r\n  relay: string[];\r\n  relayList?: nweetsType[];\r\n  parent: string;\r\n}\r\n\r\nexport const Main = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  width: 620px;\r\n  border-right: rgb(239, 243, 244) 1px solid;\r\n\r\n  @media (max-width: 860px) {\r\n    width: 95%;\r\n    margin-bottom: 3rem;\r\n  }\r\n`;\r\n\r\nexport const TitleBox = styled.div`\r\n  height: 53px;\r\n  width: 100%;\r\n  border-bottom: rgb(239, 243, 244) 1px solid;\r\n`;\r\n\r\nexport const Title = styled.div`\r\n  font-size: 20px;\r\n  font-weight: 700;\r\n  line-height: 24px;\r\n  text-decoration: none solid rgb(15, 20, 25);\r\n  white-space: nowrap;\r\n  margin: auto;\r\n  padding: 16px 16px 0 16px;\r\n  padding-bottom: 16px;\r\n`;\r\n\r\nconst Home: React.FC = () => {\r\n  const [nweets, setNweets] = useState<nweetsType[]>([]);\r\n\r\n  useEffect(() => {\r\n    // use Effect 안에서 async를 사용하지못함..\r\n    // 랜더링 이슈로 async를 사용하는 것이 좋은거 같지 않음.\r\n    onSnapshot(fireCollection, snapShot => {\r\n      const nweetsInfo: nweetsType[] = snapShot.docs.map(ele => {\r\n        return {\r\n          id: ele.id,\r\n          createdAd: ele.data().createdAd,\r\n          like: ele.data().like,\r\n          relay: ele.data().relay,\r\n          parent: ele.data().parent,\r\n          ...ele.data()\r\n        };\r\n      });\r\n      setNweets(nweetsInfo);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Main>\r\n      <TitleBox>\r\n        <Title> Home </Title>\r\n      </TitleBox>\r\n      <div>\r\n        <NweetsFrom />\r\n        {nweets?.length === 0 ? (\r\n          <LoadingFile />\r\n        ) : (\r\n          nweets\r\n            .sort((a, b) => b.createdAd - a.createdAd)\r\n            .map(ele => (\r\n              <Nweets\r\n                key={ele.id}\r\n                info={ele}\r\n                isOwner={ele.userId === firebaseAuth.currentUser?.uid}\r\n              />\r\n            ))\r\n        )}\r\n      </div>\r\n    </Main>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\n\r\ninterface Auth {\r\n  init: boolean;\r\n  isLogin: boolean;\r\n  setIsLogin: Function;\r\n  updateUser: Function;\r\n  displayName?: string | null;\r\n}\r\n\r\nexport const AuthContext = React.createContext<Auth | null>(null);\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { doc, getDocs, onSnapshot, query, updateDoc, where } from \"@firebase/firestore\";\r\nimport { firebaseAuth, fireCollection, firestore } from \"firebase\";\r\nimport { signOut, updateProfile } from \"@firebase/auth\";\r\nimport { Main, nweetsType, Title, TitleBox } from \"./Home\";\r\nimport Nweets from \"components/Nweets\";\r\nimport styled from \"styled-components\";\r\nimport { AuthContext } from \"context\";\r\n\r\nconst ProfileDiv = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 1rem;\r\n  border-bottom: rgb(239, 243, 244) 1px solid;\r\n`;\r\n\r\nconst Msg = styled.div`\r\n  margin-top: 5rem;\r\n  font-size: 1.2rem;\r\n  text-align: center;\r\n`;\r\n\r\nconst Profile: React.FC = () => {\r\n  const userInfo = useContext(AuthContext);\r\n  const [userNweets, setUserNweets] = useState<nweetsType[]>([]);\r\n  const [newdisplayName, setNewDisplayName] = useState(firebaseAuth.currentUser?.displayName);\r\n\r\n  const history = useHistory();\r\n  const handleLogout = () => {\r\n    signOut(firebaseAuth);\r\n    history.push(\"/\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    // 자신이 올린 Nweets 모아보기\r\n    onSnapshot(fireCollection, snapShot => {\r\n      const nweets: nweetsType[] = snapShot.docs\r\n        .filter(ele => ele.data().userId === firebaseAuth.currentUser?.uid)\r\n        .map(ele => {\r\n          return {\r\n            id: ele.id,\r\n            createdAd: ele.data().createdAd,\r\n            like: ele.data().like,\r\n            relay: ele.data().relay,\r\n            parent: ele.data().parent,\r\n            ...ele.data()\r\n          };\r\n        });\r\n\r\n      setUserNweets(nweets);\r\n    });\r\n  }, []);\r\n\r\n  const handleNickSumbit = async (e: React.SyntheticEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (newdisplayName === firebaseAuth.currentUser?.displayName) return;\r\n    if (firebaseAuth.currentUser) {\r\n      await updateProfile(firebaseAuth.currentUser, { displayName: newdisplayName });\r\n      await userInfo?.updateUser(newdisplayName);\r\n    }\r\n\r\n    // 닉네임이 업데이트 되면 리스트 데이터의 닉네임도 다 같이 변경되어야함\r\n    const userData = await where(\"userId\", \"==\", firebaseAuth.currentUser?.uid);\r\n    const _query = await query(fireCollection, userData);\r\n    const querySnapshot = await getDocs(_query);\r\n    querySnapshot.forEach(document => {\r\n      updateDoc(doc(firestore, `nweets/${document.id}`), {\r\n        userNickName: newdisplayName\r\n      });\r\n    });\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const {\r\n      target: { value }\r\n    } = e;\r\n    setNewDisplayName(value);\r\n  };\r\n\r\n  return (\r\n    <Main>\r\n      <TitleBox>\r\n        <Title> Profile </Title>\r\n      </TitleBox>\r\n      <ProfileDiv>\r\n        <form onSubmit={handleNickSumbit}>\r\n          <input\r\n            placeholder=\"닉네임을 입력\"\r\n            value={newdisplayName ? newdisplayName : \"\"}\r\n            onChange={handleChange}\r\n          ></input>\r\n          <button type={\"submit\"}>Edit NickName</button>\r\n        </form>\r\n        <button onClick={handleLogout}> Logout </button>\r\n      </ProfileDiv>\r\n\r\n      <TitleBox>\r\n        <Title> My Nweets </Title>\r\n      </TitleBox>\r\n      <div>\r\n        {userNweets.length === 0 ? (\r\n          <Msg>\r\n            작성된 Nweets이 없습니다 <br />\r\n          </Msg>\r\n        ) : (\r\n          userNweets\r\n            .sort((a, b) => (b.createdAd > a.createdAd ? 1 : -1))\r\n            .map((ele, idx) => {\r\n              return (\r\n                <Nweets\r\n                  key={idx}\r\n                  info={ele}\r\n                  isOwner={ele.userId === firebaseAuth.currentUser?.uid}\r\n                />\r\n              );\r\n            })\r\n        )}\r\n      </div>\r\n    </Main>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport { MdAccountCircle, MdHome } from \"react-icons/md\";\r\nimport { IoLogoTwitter } from \"react-icons/io\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\ninterface Props {\r\n  type: string;\r\n}\r\n\r\nconst NavItem = styled(Link)`\r\n  display: flex;\r\n  height: 58.25px;\r\n  padding: 4px 0 4px 0;\r\n  @media (max-width: 450px) {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst Item = styled.div`\r\n  display: flex;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  text-align: center;\r\n  border-radius: 2rem;\r\n  /* font-weight: 700; */\r\n\r\n  :hover {\r\n    background-color: #e7e7e8;\r\n  }\r\n\r\n  @media (max-width: 450px) {\r\n    width: 100%;\r\n    border-radius: 0;\r\n  }\r\n`;\r\n\r\nconst Text = styled.span`\r\n  padding-right: 1rem;\r\n  font-size: 20px;\r\n  /* font-weight: 700; */\r\n  text-decoration: none solid rgb(15, 20, 25);\r\n  white-space: nowrap;\r\n  word-spacing: 0;\r\n\r\n  @media (max-width: 860px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst IconBox = styled.div`\r\n  display: flex;\r\n  margin: auto;\r\n  padding-left: 1rem;\r\n  padding-right: 1rem;\r\n`;\r\n\r\nconst Icon: React.FC<Props> = ({ type }) => {\r\n  const IconSvg = () => {\r\n    switch (type) {\r\n      case \"Icon\":\r\n        return <IoLogoTwitter size=\"1.3rem\" />;\r\n      case \"Home\":\r\n        return <MdHome size=\"24px\" />;\r\n      case \"Profile\":\r\n        return <MdAccountCircle size=\"1.5rem\" />;\r\n      default:\r\n        return <path></path>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <IconBox>\r\n      <IconSvg />\r\n    </IconBox>\r\n  );\r\n};\r\n\r\nconst NavList: React.FC<Props> = ({ type }) => {\r\n  return (\r\n    <NavItem to={`/${type.toLowerCase()}`}>\r\n      <Item defaultValue={location.pathname}>\r\n        <Icon type={type} />\r\n        <Text>{type === \"Icon\" ? \"\" : type}</Text>\r\n      </Item>\r\n    </NavItem>\r\n  );\r\n};\r\n\r\nexport default NavList;\r\n","import { signOut } from \"@firebase/auth\";\r\nimport { AuthContext } from \"context\";\r\nimport { firebaseAuth } from \"firebase\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { FcCheckmark } from \"react-icons/fc\";\r\nimport { IoIosMore } from \"react-icons/io\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport defaultImg from \"../assets/default.png\";\r\nimport NavList from \"./NavList\";\r\n\r\nconst Container = styled.nav`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  width: 234px;\r\n  height: 100vh;\r\n  border-right: rgb(239, 243, 244) 1px solid;\r\n  position: -webkit-sticky;\r\n  position: sticky;\r\n  top: 0px;\r\n\r\n  @media (max-width: 860px) {\r\n    width: 65px;\r\n  }\r\n\r\n  @media (max-width: 450px) {\r\n    height: 6vh;\r\n    position: fixed;\r\n    top: auto;\r\n    bottom: 0;\r\n    background-color: white;\r\n    width: 100%;\r\n    border-top: rgb(239, 243, 244) 1px solid;\r\n    z-index: 5;\r\n  }\r\n`;\r\n\r\nconst Img = styled.img`\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 5rem;\r\n  margin: auto;\r\n`;\r\n\r\nconst Strong = styled.strong`\r\n  font-weight: 700;\r\n`;\r\n\r\nconst UserBox = styled.div`\r\n  display: flex;\r\n  height: 4rem;\r\n  margin-bottom: 1rem;\r\n\r\n  :hover {\r\n    background-color: #e7e7e8;\r\n    border-radius: 2rem;\r\n    cursor: pointer;\r\n  }\r\n\r\n  @media (max-width: 450px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst ToolTipUserBox = styled.div`\r\n  display: flex;\r\n  height: 4rem;\r\n\r\n  :hover {\r\n    cursor: default;\r\n  }\r\n`;\r\n\r\nconst UserSetting = styled.div`\r\n  display: flex;\r\n  width: 70%;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-content: center;\r\n  margin: auto 0;\r\n  @media (max-width: 860px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst ThreeDot = styled(IoIosMore)`\r\n  margin: auto;\r\n`;\r\n\r\nconst Checkmark = styled(FcCheckmark)`\r\n  margin: auto;\r\n`;\r\n\r\nconst ToolTip = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: fixed;\r\n  bottom: 6rem;\r\n  width: 280px;\r\n  box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;\r\n  border-radius: 1.5rem;\r\n  background-color: white;\r\n`;\r\n\r\nconst LogoutButton = styled.div`\r\n  height: 2rem;\r\n  width: 100%;\r\n  text-align: center;\r\n  /* border: rgb(239, 243, 244) 1px solid; */\r\n  padding-top: 1rem;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst NavBox = styled.div`\r\n  @media (max-width: 450px) {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n\r\n    bottom: 1rem;\r\n  }\r\n`;\r\n\r\nconst Navigator = () => {\r\n  const userInfo = useContext(AuthContext);\r\n  const history = useHistory();\r\n  const handleLogout = () => {\r\n    signOut(firebaseAuth).then(() => {\r\n      history.push(\"/\");\r\n    });\r\n  };\r\n\r\n  const [isClickUserBox, setIsClickUserBox] = useState(false);\r\n\r\n  const handleUserBox = () => {\r\n    setIsClickUserBox(!isClickUserBox);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // 유저박스를 on/off\r\n    if (!isClickUserBox) return;\r\n\r\n    const update = () => setIsClickUserBox(!isClickUserBox);\r\n    window.addEventListener(\"click\", update);\r\n\r\n    return () => window.removeEventListener(\"click\", update);\r\n  }, [isClickUserBox]);\r\n\r\n  return (\r\n    <Container>\r\n      <NavBox>\r\n        <NavList type=\"Icon\"> </NavList>\r\n        <NavList type=\"Home\"> </NavList>\r\n        <NavList type=\"Profile\"> </NavList>\r\n      </NavBox>\r\n      {isClickUserBox ? (\r\n        <ToolTip>\r\n          <ToolTipUserBox>\r\n            <Img\r\n              src={\r\n                firebaseAuth.currentUser?.photoURL === null\r\n                  ? defaultImg\r\n                  : firebaseAuth.currentUser?.photoURL\r\n              }\r\n            ></Img>\r\n            <UserSetting>\r\n              <div>\r\n                <Strong>{userInfo?.displayName}</Strong>\r\n                <div style={{ color: \"#677682\" }}>{firebaseAuth.currentUser?.email}</div>\r\n              </div>\r\n            </UserSetting>\r\n            <Checkmark />\r\n          </ToolTipUserBox>\r\n          <LogoutButton onClick={handleLogout}>\r\n            Log out {firebaseAuth.currentUser?.displayName}{\" \"}\r\n          </LogoutButton>\r\n        </ToolTip>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <UserBox onClick={handleUserBox}>\r\n        <Img\r\n          src={\r\n            firebaseAuth.currentUser?.photoURL === null\r\n              ? defaultImg\r\n              : firebaseAuth.currentUser?.photoURL\r\n          }\r\n        ></Img>\r\n        <UserSetting>\r\n          <div>\r\n            <Strong>{firebaseAuth.currentUser?.displayName}</Strong>\r\n            <div style={{ color: \"#677682\" }}>{firebaseAuth.currentUser?.email}</div>\r\n          </div>\r\n          <ThreeDot />\r\n        </UserSetting>\r\n      </UserBox>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Navigator;\r\n","import { doc, getDoc, onSnapshot } from \"@firebase/firestore\";\r\nimport LoadingFile from \"components/LoadingFile\";\r\nimport { firebaseAuth, fireCollection, firestore } from \"firebase\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams, useHistory } from \"react-router\";\r\nimport { Main, nweetsType } from \"./Home\";\r\nimport { FiArrowLeft } from \"react-icons/fi\";\r\nimport styled from \"styled-components\";\r\nimport defaultImg from \"assets/default.png\";\r\nimport NweetsFrom from \"components/NweetsForm\";\r\nimport NweetsBtns from \"components/NweetBtns\";\r\nimport Nweets, { NweetImg } from \"components/Nweets\";\r\n\r\nconst TitleBox = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 53px;\r\n  width: 100%;\r\n  border-bottom: rgb(239, 243, 244) 1px solid;\r\n`;\r\n\r\nconst ArrowLeftbtn = styled.button`\r\n  background: none;\r\n  border: none;\r\n  padding-left: 0.5rem;\r\n  padding-right: 0.5rem;\r\n`;\r\n\r\nconst ArrowIcon = styled(FiArrowLeft)`\r\n  border-radius: 2rem;\r\n  padding: 0.5rem;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    background-color: #f3f4f6;\r\n  }\r\n`;\r\n\r\nconst Title = styled.div`\r\n  font-size: 20px;\r\n  font-weight: 700;\r\n  line-height: 24px;\r\n  text-decoration: none solid rgb(15, 20, 25);\r\n  white-space: nowrap;\r\n  padding: 16px 16px 0 0px;\r\n  padding-bottom: 16px;\r\n`;\r\n\r\nconst UserBox = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst ImgBox = styled.div`\r\n  width: 50px;\r\n  height: 50px;\r\n`;\r\n\r\nconst Img = styled.img`\r\n  width: 100%;\r\n  border-radius: 5rem;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  padding: 10px;\r\n  border-bottom: rgb(239, 243, 244) 1px solid;\r\n`;\r\n\r\nconst UserValue = styled.div`\r\n  margin-left: 0.5rem;\r\n`;\r\n\r\nconst NickName = styled.h2`\r\n  font-weight: 700;\r\n  font-size: 1.2rem;\r\n  margin-bottom: 0.3rem;\r\n`;\r\n\r\nconst Text = styled.p`\r\n  margin-top: 1rem;\r\n  margin-bottom: 0.8rem;\r\n  font-size: 1.2rem;\r\n`;\r\n\r\nconst Time = styled.span`\r\n  font-size: 14px;\r\n  color: rgb(83, 100, 113);\r\n`;\r\n\r\nconst Nweet = () => {\r\n  const { userId } = useParams<{ userId?: string }>();\r\n  const [nweet, setNweet] = useState<nweetsType[]>();\r\n  const [subNweet, setSubNweet] = useState<any>([]);\r\n  const history = useHistory();\r\n  const handleArrowLeftbtnClick = () => {\r\n    history.goBack();\r\n  };\r\n\r\n  useEffect(() => {\r\n    onSnapshot(fireCollection, snapShot => {\r\n      const nweetInfo: any = snapShot.docs\r\n        .filter(ele => ele.id === userId)\r\n        .map(ele => {\r\n          let relayListData;\r\n          if (ele.data().relay) {\r\n            relayListData = ele.data().relay.map(async (_: any) => {\r\n              const data: any = (await getDoc(doc(firestore, `nweets/${_}`))).data();\r\n              return { data, id: _ };\r\n            });\r\n\r\n            Promise.all(relayListData).then(results => {\r\n              setSubNweet(results);\r\n            });\r\n          }\r\n\r\n          return {\r\n            id: ele.id,\r\n            createdAd: ele.data().createdAd,\r\n            relayList: [],\r\n            ...ele.data()\r\n          };\r\n        });\r\n      setNweet(nweetInfo);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Main>\r\n      <TitleBox>\r\n        <ArrowLeftbtn onClick={handleArrowLeftbtnClick}>\r\n          <ArrowIcon size={15} />\r\n        </ArrowLeftbtn>\r\n        <Title> Nweet </Title>\r\n      </TitleBox>\r\n      <Content>\r\n        {nweet?.length === 1 ? (\r\n          <article>\r\n            <UserBox>\r\n              <ImgBox>\r\n                <Img src={nweet?.[0].userPhotoURL ? nweet?.[0].userPhotoURL : defaultImg}></Img>\r\n              </ImgBox>\r\n              <UserValue>\r\n                <NickName>{nweet?.[0].userNickName}</NickName>\r\n                <div>{nweet?.[0].id}</div>\r\n              </UserValue>\r\n            </UserBox>\r\n\r\n            <div>\r\n              <Text> {nweet?.[0].text}</Text>\r\n              <NweetImg src={nweet?.[0].fileUrl} />\r\n              <Time>{new Date(nweet?.[0].createdAd).toDateString()}</Time>\r\n              <NweetsBtns like={nweet?.[0].like} id={nweet?.[0].id} relay={nweet?.[0].relay} />\r\n            </div>\r\n          </article>\r\n        ) : (\r\n          <LoadingFile />\r\n        )}\r\n      </Content>\r\n      <div>\r\n        <NweetsFrom relayId={nweet?.[0].id} relay={nweet?.[0].relay} />\r\n        {subNweet.length === 0\r\n          ? \"\"\r\n          : subNweet &&\r\n            subNweet\r\n              .sort((a: any, b: any) => b.createdAd - a.createdAd)\r\n              .map((ele: any) => (\r\n                <Nweets\r\n                  key={ele.id}\r\n                  info={{ id: ele.id, ...ele.data }}\r\n                  isOwner={ele.data.userId === firebaseAuth.currentUser?.uid}\r\n                />\r\n              ))}\r\n      </div>\r\n    </Main>\r\n  );\r\n};\r\n\r\nexport default Nweet;\r\n","import { HashRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport Auth from \"route/Auth\";\r\nimport Home from \"route/Home\";\r\nimport Profile from \"route/Profile\";\r\nimport Navigator from \"components/Navigator\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"context\";\r\nimport Nweet from \"route/Nweet\";\r\n\r\nconst Routes = () => {\r\n  const userInfo = useContext(AuthContext);\r\n  return (\r\n    <Router>\r\n      {userInfo?.init && userInfo?.isLogin ? (\r\n        <>\r\n          <Navigator />\r\n\r\n          <Switch>\r\n            <Route exact path=\"/profile\">\r\n              <Profile></Profile>\r\n            </Route>\r\n            <Route exact path=\"/home\">\r\n              <Home />\r\n            </Route>\r\n\r\n            <Route exact path=\"/:userId/:createTime\">\r\n              <Nweet />\r\n            </Route>\r\n\r\n            <Route path=\"*\">\r\n              <Home />\r\n            </Route>\r\n          </Switch>\r\n        </>\r\n      ) : (\r\n        <Auth />\r\n      )}\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { firebaseAuth } from \"firebase\";\r\nimport { AuthContext } from \"context\";\r\n\r\nexport const AuthProvider: React.FC = ({ children }) => {\r\n  const [init, setInit] = useState(false);\r\n  const [isLogin, setIsLogin] = useState(false);\r\n  const [displayName, setDisplayName] = useState<string | null | undefined>(\"\");\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = firebaseAuth.onAuthStateChanged(firebaseUser => {\r\n      setDisplayName(firebaseUser?.displayName);\r\n      setIsLogin(firebaseUser ? true : false);\r\n      setInit(true);\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  // 유저 정보 변경\r\n  const updateUser = (newdisplayName: any) => {\r\n    setDisplayName(newdisplayName);\r\n  };\r\n\r\n  let userValue = {\r\n    init,\r\n    isLogin,\r\n    setIsLogin,\r\n    updateUser,\r\n    displayName\r\n  };\r\n\r\n  return <AuthContext.Provider value={userValue}>{children}</AuthContext.Provider>;\r\n};\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\n/* http://meyerweb.com/eric/tools/css/reset/ \r\n   v2.0 | 20110126\r\n   License: none (public domain)\r\n*/\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\nhtml,\r\nbody,\r\ndiv,\r\nspan,\r\napplet,\r\nobject,\r\niframe,\r\nh1,\r\nh2,\r\nh3,\r\nh4,\r\nh5,\r\nh6,\r\np,\r\nblockquote,\r\npre,\r\na,\r\nabbr,\r\nacronym,\r\naddress,\r\nbig,\r\ncite,\r\ncode,\r\ndel,\r\ndfn,\r\nem,\r\nimg,\r\nins,\r\nkbd,\r\nq,\r\ns,\r\nsamp,\r\nsmall,\r\nstrike,\r\nstrong,\r\nsub,\r\nsup,\r\ntt,\r\nvar,\r\nb,\r\nu,\r\ni,\r\ncenter,\r\ndl,\r\ndt,\r\ndd,\r\nol,\r\nul,\r\nli,\r\nfieldset,\r\nform,\r\nlabel,\r\nlegend,\r\ntable,\r\ncaption,\r\ntbody,\r\ntfoot,\r\nthead,\r\ntr,\r\nth,\r\ntd,\r\narticle,\r\naside,\r\ncanvas,\r\ndetails,\r\nembed,\r\nfigure,\r\nfigcaption,\r\nfooter,\r\nheader,\r\nhgroup,\r\nmenu,\r\nnav,\r\noutput,\r\nruby,\r\nsection,\r\nsummary,\r\ntime,\r\nmark,\r\naudio,\r\nvideo {\r\n  margin: 0;\r\n  padding: 0;\r\n  border: 0;\r\n  font-size: 100%;\r\n  font: inherit;\r\n  vertical-align: baseline;\r\n}\r\n/* HTML5 display-role reset for older browsers */\r\narticle,\r\naside,\r\ndetails,\r\nfigcaption,\r\nfigure,\r\nfooter,\r\nheader,\r\nhgroup,\r\nmenu,\r\nnav,\r\nsection {\r\n  display: block;\r\n}\r\nbody {\r\n  line-height: 1;\r\n}\r\nol,\r\nul {\r\n  list-style: none;\r\n}\r\nblockquote,\r\nq {\r\n  quotes: none;\r\n}\r\nblockquote:before,\r\nblockquote:after,\r\nq:before,\r\nq:after {\r\n  content: \"\";\r\n  content: none;\r\n}\r\ntable {\r\n  border-collapse: collapse;\r\n  border-spacing: 0;\r\n}\r\n\r\n/* a-style */\r\n\r\na {\r\n  color: black;\r\n  text-decoration: none;\r\n  outline: none;\r\n}\r\n\r\na:hover,\r\na:active {\r\n  text-decoration: none;\r\n  /* color: #fff; */\r\n  /* background-color: #f59000; */\r\n}\r\n\r\n.App {\r\n  display: flex;\r\n  justify-content: center;\r\n  @media (max-width: 450px) {\r\n    flex-direction: column-reverse;\r\n  }\r\n}\r\n`;\r\n\r\nexport default GlobalStyle;\r\n","import React, { useContext } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Loading from \"./components/Loading\";\nimport Routes from \"Router\";\nimport { AuthProvider } from \"provider/AuthProvider\";\nimport { AuthContext } from \"context\";\nimport GlobalStyle from \"./reset.css.js\";\n\nconst App = () => {\n  const userInfo = useContext(AuthContext);\n\n  return (\n    <div className=\"App\">\n      <GlobalStyle />\n      {userInfo?.init ? <Routes /> : <Loading />}\n      {/* <footer>&copy; nwitter </footer> */}\n    </div>\n  );\n};\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}