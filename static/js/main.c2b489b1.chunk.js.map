{"version":3,"sources":["components/Loading.tsx","components/Error.tsx","firebase.tsx","components/AuthForm.tsx","context.tsx","route/Auth.tsx","assets/default.png","components/Nweets.tsx","components/NweetsForm.tsx","route/Home.tsx","route/Profile.tsx","components/Navigator.tsx","Router.tsx","provider/AuthProvider.tsx","index.tsx"],"names":["Layout","styled","div","Loading","type","color","height","width","loginException","errorValue","error","code","alert","console","log","message","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseAuth","getAuth","firestore","getFirestore","fireCollection","collection","fireStoage","doc","getAnalytics","getStorage","googleLoginProvider","GoogleAuthProvider","LoginForm","form","Input","input","AuthButton","button","AuthForm","setIsLogin","useState","email","setEmail","password","setPassword","createNewAccount","setCreateNewAccount","setError","handleInput","e","target","name","value","hanldeSubmit","a","preventDefault","createUserWithEmailAndPassword","result","signInWithEmailAndPassword","onSubmit","onChange","placeholder","required","onClick","AuthContext","React","createContext","AuthFormDiv","AuthLayout","Img","img","AuthBox","Subtitle","h2","Title","h1","Auth","userInfo","useContext","src","draggable","size","signInWithPopup","then","catch","NweetData","LeftBox","NweetImg","span","Button","ButtonBox","InfoText","p","InputFix","DefaultButton","Nweets","info","isOwner","isEdit","setIsEdit","text","editText","setEditText","handleToggle","prev","handleSumbit","updateDoc","id","userPhotoURL","defaultImg","alt","style","marginBottom","userNickName","Date","createdAd","getMonth","getDate","fileUrl","confirm","deleteDoc","deleteObject","ref","Form","FileInput","NweetsInput","UploadBox","NweetBtn","Content","NweetsFrom","user","setText","uploadFile","setUploadFile","handleSubmit","uid","uuidv4","fileRef","uploadString","getDownloadURL","addDoc","now","userId","photoURL","displayName","undefined","maxLength","htmlFor","accept","files","reader","FileReader","onloadend","readAsDataURL","Main","TitleBox","Home","nweets","setNweets","useEffect","onSnapshot","snapShot","nweetsInfo","docs","map","ele","data","sort","b","ProfileDiv","Msg","Profile","updateUser","userNweets","setuserNweets","newdisplayName","setNewDisplayName","history","useHistory","filter","handleNickSumbit","updateProfile","where","query","_query","getDocs","forEach","document","signOut","push","length","idx","IconBox","NavItem","Link","Item","Header","header","Text","Strong","strong","UserBox","UserSetting","LogoutButton","Icon","IconSvg","d","viewBox","NavList","to","toLowerCase","defaultValue","location","pathname","Navigator","isLogin","Routes","init","exact","path","AuthProvider","children","setInit","setUser","onAuthStateChanged","firebaseUser","userValue","currentUser","_","cloneDeep","Provider","Root","App","className","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c2b489b1.chunk.js","sourcesContent":["import Loader from \"react-loader-spinner\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Layout = styled.div`\r\n  margin: auto;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <Layout>\r\n      <Loader type=\"Rings\" color=\"#000000\" height={80} width={80} />\r\n      <div>loading... </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","export class loginException {\r\n  constructor() {}\r\n\r\n  static errorValue = (error: { code: string; message: string }) => {\r\n    switch (error.code) {\r\n      case \"auth/user-not-found\":\r\n        // TODO 로그인 페이지로 이동\r\n        alert(\"유저정보가 없습니다. 회원가입 후 이용해주세요\");\r\n        break;\r\n      case \"auth/wrong-password\":\r\n        alert(\"비밀번호가 잘못되었습니다. 다시 시도해주세요\");\r\n        break;\r\n      default:\r\n        console.log(error);\r\n        break;\r\n    }\r\n\r\n    return error.message;\r\n  };\r\n}\r\n","import { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\nimport { getStorage } from \"firebase/storage\";\r\nimport { getFirestore, collection, doc } from \"firebase/firestore\";\r\nimport { getAuth, GoogleAuthProvider } from \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_APIKEY,\r\n  authDomain: process.env.REACT_APP_AUTHDOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n};\r\n\r\n// Initialize Firebase\r\nexport const firebase = initializeApp(firebaseConfig);\r\nexport const firebaseAuth = getAuth();\r\nexport const firestore = getFirestore(firebase);\r\nexport const fireCollection = collection(firestore, \"nweets\");\r\nexport const fireNweetsDoc = doc(fireCollection, \"nweets\");\r\nexport const analytics = getAnalytics(firebase);\r\nexport const fireStoage = getStorage(firebase);\r\n\r\n// 구글 로그인\r\nexport const googleLoginProvider = new GoogleAuthProvider();\r\n\r\n","import { createUserWithEmailAndPassword, signInWithEmailAndPassword } from \"@firebase/auth\";\r\nimport { loginException } from \"components/Error\";\r\nimport { firebaseAuth } from \"firebase\";\r\nimport React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst LoginForm = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-size: 1.2rem;\r\n  line-height: 2rem;\r\n  font-weight: 700;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 80%;\r\n  margin-bottom: 1rem;\r\n  height: 2rem;\r\n  border-radius: 0.5rem;\r\n  border: none;\r\n  border-bottom: rgb(239, 243, 244) 1px solid;\r\n  padding-left: 0.8rem;\r\n  font-size: 1.2rem;\r\n  prefix: 1rem;\r\n`;\r\n\r\nexport const AuthButton = styled.button`\r\n  width: 80%;\r\n  height: 2rem;\r\n  margin-bottom: 1rem;\r\n  font-size: 1rem;\r\n  font-weight: 700;\r\n  background-color: white;\r\n  border-radius: 0.5rem;\r\n  border: solid 1px black;\r\n`;\r\n\r\nconst AuthForm = ({ setIsLogin }: { setIsLogin: any }) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [createNewAccount, setCreateNewAccount] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // 아이디 비밀번호 입력시\r\n  const handleInput = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.name === \"elEmail\") {\r\n      setEmail(e.target.value);\r\n    } else if (e.target.name === \"elPassword\") {\r\n      setPassword(e.target.value);\r\n    }\r\n  };\r\n\r\n  // 로그인, 계정 생성 버튼\r\n  const hanldeSubmit = async (e: React.SyntheticEvent) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      let result;\r\n      if (createNewAccount) {\r\n        // 계정 생성\r\n        result = await createUserWithEmailAndPassword(firebaseAuth, email, password);\r\n      } else {\r\n        // 로그인\r\n        result = await signInWithEmailAndPassword(firebaseAuth, email, password);\r\n        setIsLogin(true);\r\n      }\r\n      console.log(result);\r\n    } catch (error) {\r\n      // TODO - Error 코드 파일로 빼기\r\n      setError(loginException.errorValue(error as { code: string; message: string }));\r\n    }\r\n  };\r\n\r\n  const handleClickCreateNew = () => {\r\n    setCreateNewAccount(true);\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <LoginForm onSubmit={hanldeSubmit}>\r\n        <Input\r\n          value={email}\r\n          name=\"elEmail\"\r\n          type=\"email\"\r\n          onChange={handleInput}\r\n          placeholder={\"아이디\"}\r\n          required\r\n        ></Input>\r\n\r\n        <Input\r\n          value={password}\r\n          name=\"elPassword\"\r\n          type=\"password\"\r\n          onChange={handleInput}\r\n          placeholder={\"비밀번호\"}\r\n          required\r\n        ></Input>\r\n        <AuthButton name=\"login\" type=\"submit\">\r\n          {createNewAccount ? \"아이디 생성하기\" : \"로그인\"}\r\n        </AuthButton>\r\n      </LoginForm>\r\n      {!createNewAccount ? <AuthButton onClick={handleClickCreateNew}>회원가입</AuthButton> : \"\"}\r\n      <div>{error ? error : \"\"}</div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AuthForm;\r\n","import { User } from \"@firebase/auth\";\r\nimport React from \"react\";\r\n\r\ninterface Auth {\r\n  init: boolean;\r\n  user: User | null;\r\n  setUser: Function;\r\n  isLogin: boolean;\r\n  setIsLogin: Function;\r\n  updateUser: Function;\r\n}\r\n\r\nexport const AuthContext = React.createContext<Auth | null>(null);\r\n","import { signInWithPopup } from \"@firebase/auth\";\r\nimport AuthForm, { AuthButton } from \"components/AuthForm\";\r\nimport { firebaseAuth, googleLoginProvider } from \"firebase\";\r\nimport styled from \"styled-components\";\r\nimport { FcCloseUpMode, FcGoogle } from \"react-icons/fc\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"context\";\r\n\r\nconst AuthFormDiv = styled(AuthForm)`\r\n  margin-top: 1rem;\r\n`;\r\n\r\nconst AuthLayout = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  justify-content: center;\r\n  @media (max-width: 860px) {\r\n    flex-direction: column-reverse;\r\n    width: 100%;\r\n    margin-top: 3rem;\r\n  }\r\n`;\r\n\r\nconst Img = styled.img`\r\n  width: 60%;\r\n  height: 100vh;\r\n\r\n  @media (max-width: 860px) {\r\n    z-index: -1;\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst AuthBox = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  margin: auto;\r\n  margin-left: 2rem;\r\n`;\r\n\r\nconst Subtitle = styled.h2`\r\n  font-size: 31px;\r\n  font-weight: 700;\r\n  text-decoration: none solid rgb(15, 20, 25);\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 50px;\r\n  font-weight: 700;\r\n  text-decoration: none solid rgb(15, 20, 25);\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nconst Auth = () => {\r\n  const userInfo = useContext(AuthContext);\r\n  // 소셜 로그인 버튼 클릭시\r\n  const onClickSocialLogin = () => {\r\n    signInWithPopup(firebaseAuth, googleLoginProvider)\r\n      .then(() => {\r\n        userInfo?.setIsLogin(true);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <AuthLayout>\r\n      <Img src=\"https://abs.twimg.com/sticky/illustrations/lohp_1302x955.png\" draggable=\"false\" />\r\n      <AuthBox>\r\n        <FcCloseUpMode size=\"2.5rem\" />\r\n        <Title> Happening now </Title>\r\n        <Subtitle> Join Nwitter today. </Subtitle>\r\n        <AuthFormDiv setIsLogin={userInfo?.setIsLogin}></AuthFormDiv>\r\n        <AuthButton name=\"Goggle\" onClick={onClickSocialLogin}>\r\n          <FcGoogle /> Google 계정으로 로그인하기\r\n        </AuthButton>\r\n      </AuthBox>\r\n    </AuthLayout>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","export default __webpack_public_path__ + \"static/media/default.1a3f2e43.png\";","import { fireStoage, firestore } from \"firebase\";\r\nimport { deleteDoc, doc, updateDoc } from \"@firebase/firestore\";\r\nimport React, { useState } from \"react\";\r\nimport { deleteObject, ref } from \"@firebase/storage\";\r\nimport styled from \"styled-components\";\r\nimport defaultImg from \"../assets/default.png\";\r\n\r\nimport { MdDelete, MdOutlineEdit } from \"react-icons/md\";\r\n\r\nconst NweetData = styled.div`\r\n  display: flex;\r\n  padding: 10px;\r\n  min-height: 60px;\r\n  border-bottom: rgb(239, 243, 244) 1px solid;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst Img = styled.img`\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 5rem;\r\n  margin-left: 0.5rem;\r\n  margin-right: 0.5rem;\r\n`;\r\n\r\nconst LeftBox = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport const NweetImg = styled.img`\r\n  max-width: 100%;\r\n  height: auto;\r\n  border: solid 1px #d6dfe3;\r\n  border-radius: 1rem;\r\n  padding: 0.5rem;\r\n  margin: 0.5rem;\r\n`;\r\n\r\nconst Title = styled.span`\r\n  font-weight: 700;\r\n  font-size: 1.2rem;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background: none;\r\n  border: none;\r\n`;\r\n\r\nconst ButtonBox = styled.div`\r\n  position: relative;\r\n  width: 15px;\r\n`;\r\n\r\nconst InfoText = styled.p`\r\n  width: 100%;\r\n  word-break: break-all;\r\n`;\r\n\r\nconst InputFix = styled.input`\r\n  width: 80%;\r\n`;\r\n\r\nexport const DefaultButton = styled.button`\r\n  border: none;\r\n  color: black;\r\n  /* width: 2.5rem; */\r\n  height: 1.5rem;\r\n`;\r\nconst Nweets = ({ info, isOwner }: any) => {\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const [editText, setEditText] = useState(info.text);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const {\r\n      target: { value }\r\n    } = e;\r\n    setEditText(value);\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    const ok = confirm(\"정말로 삭제하시겠습니까?\");\r\n    if (ok) {\r\n      deleteDoc(doc(firestore, `nweets/${info.id}`));\r\n      if (info.fileUrl) deleteObject(ref(fireStoage, info.fileUrl));\r\n    }\r\n  };\r\n\r\n  const handleToggle = () => {\r\n    setIsEdit(prev => !prev);\r\n  };\r\n\r\n  const handleSumbit = async (e: React.SyntheticEvent) => {\r\n    e.preventDefault();\r\n\r\n    handleToggle();\r\n\r\n    await updateDoc(doc(firestore, `nweets/${info.id}`), {\r\n      text: editText\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div key={info.id}>\r\n      <NweetData>\r\n        <LeftBox>\r\n          <Img src={info.userPhotoURL === null ? defaultImg : info.userPhotoURL} alt=\"\" />\r\n          <div>\r\n            <h3 style={{ marginBottom: \"0.5rem\" }}>\r\n              <Title>{info.userNickName} </Title>\r\n              {` · ${new Date(info.createdAd).getMonth() + 1}/${new Date(\r\n                info.createdAd\r\n              ).getDate()}`}\r\n            </h3>\r\n            {isEdit ? (\r\n              <form onSubmit={handleSumbit}>\r\n                <InputFix\r\n                  type=\"text\"\r\n                  placeholder={\"수정할 데이터를 입력해주세요\"}\r\n                  onChange={handleChange}\r\n                  value={editText}\r\n                />\r\n                <DefaultButton type=\"submit\">완료</DefaultButton>\r\n              </form>\r\n            ) : (\r\n              <InfoText> {info.text} </InfoText>\r\n            )}\r\n            {info.fileUrl && <NweetImg src={info.fileUrl} />}\r\n          </div>\r\n        </LeftBox>\r\n        {isOwner && (\r\n          <ButtonBox>\r\n            <Button onClick={handleDelete}>\r\n              <MdDelete />\r\n            </Button>\r\n            <Button onClick={handleToggle}>\r\n              <MdOutlineEdit />\r\n            </Button>\r\n          </ButtonBox>\r\n        )}\r\n      </NweetData>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Nweets;\r\n","import { fireCollection, fireStoage } from \"firebase\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { getDownloadURL, ref, uploadString } from \"@firebase/storage\";\r\nimport defaultImg from \"assets/default.png\";\r\nimport { FiImage } from \"react-icons/fi\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { addDoc } from \"@firebase/firestore\";\r\nimport styled from \"styled-components\";\r\nimport { DefaultButton, NweetImg } from \"./Nweets\";\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  padding: 10px;\r\n  border-bottom: rgb(239, 243, 244) 1px solid;\r\n`;\r\n\r\nconst Img = styled.img`\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 5rem;\r\n  margin-left: 0.5rem;\r\n  margin-right: 0.5rem;\r\n`;\r\n\r\nconst FileInput = styled.input`\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  margin: -1px;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  border: 0;\r\n`;\r\n\r\nconst NweetsInput = styled.input`\r\n  border: none;\r\n  margin-top: 1rem;\r\n  font-size: 20px;\r\n  width: 100%;\r\n`;\r\n\r\nconst UploadBox = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  margin-top: 1rem;\r\n  padding-top: 1rem;\r\n  border-top: rgb(239, 243, 244) 1px solid;\r\n`;\r\n\r\nconst NweetBtn = styled.button`\r\n  background-color: #1d9bf0;\r\n  color: white;\r\n  height: 36px;\r\n  width: 75.9688px;\r\n  font-weight: 700;\r\n  font-size: 15px;\r\n  border: none;\r\n  border-radius: 2rem;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nconst NweetsFrom = (user: any) => {\r\n  const [text, setText] = useState(\"\");\r\n  const [uploadFile, setUploadFile] = useState(null);\r\n  // 텍스트 입력시\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const {\r\n      target: { value }\r\n    } = e;\r\n    setText(value);\r\n  };\r\n\r\n  // form tag submit시\r\n  const handleSubmit = async (e: React.SyntheticEvent) => {\r\n    e.preventDefault();\r\n\r\n    // 값이 비어있는 경우 예외처리\r\n    if (text === \"\") {\r\n      alert(\"텍스트를 입력해주세욧\");\r\n      return;\r\n    }\r\n\r\n    setText(\"\");\r\n    setUploadFile(null);\r\n\r\n    let fileUrl = \"\";\r\n    if (uploadFile) {\r\n      const fileRef = await ref(fireStoage, `${user?.uid}/${uuidv4()}`);\r\n      await uploadString(fileRef, uploadFile, \"data_url\");\r\n      fileUrl = await getDownloadURL(fileRef);\r\n    }\r\n\r\n    await addDoc(fireCollection, {\r\n      text,\r\n      createdAd: Date.now(),\r\n      userId: user?.uid,\r\n      userPhotoURL: user?.photoURL,\r\n      userNickName: user?.displayName,\r\n      fileUrl\r\n    });\r\n  };\r\n\r\n  const handleFileChange = (e: any) => {\r\n    const {\r\n      target: { files }\r\n    } = e;\r\n    const uploadFile = files[0];\r\n    const reader = new FileReader();\r\n    reader.onloadend = (e: any) => {\r\n      setUploadFile(e.target.result);\r\n    };\r\n    reader.readAsDataURL(uploadFile);\r\n  };\r\n\r\n  const handleDeleteImg = () => {\r\n    setUploadFile(null);\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Img src={user?.photoURL === undefined ? defaultImg : user?.photoURL} />\r\n\r\n      <Content>\r\n        <NweetsInput\r\n          value={text}\r\n          onChange={handleChange}\r\n          type=\"text\"\r\n          placeholder=\"What's happening?\"\r\n          maxLength={120}\r\n        ></NweetsInput>\r\n\r\n        {uploadFile && (\r\n          <div>\r\n            <NweetImg src={uploadFile} />\r\n            <DefaultButton onClick={handleDeleteImg}> 이미지 삭제 </DefaultButton>\r\n          </div>\r\n        )}\r\n\r\n        <UploadBox>\r\n          <div>\r\n            <label htmlFor=\"upload\">\r\n              <FiImage size={25} />\r\n            </label>\r\n            <FileInput id=\"upload\" type=\"file\" accept=\"image/*\" onChange={handleFileChange} />\r\n          </div>\r\n\r\n          <NweetBtn type=\"submit\">Nweet</NweetBtn>\r\n        </UploadBox>\r\n      </Content>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default NweetsFrom;\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { onSnapshot } from \"@firebase/firestore\";\r\nimport Nweets from \"components/Nweets\";\r\nimport NweetsFrom from \"components/NweetsForm\";\r\nimport { fireCollection } from \"firebase\";\r\nimport styled from \"styled-components\";\r\nimport { AuthContext } from \"context\";\r\n\r\nexport const Main = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  width: 620px;\r\n  border-right: rgb(239, 243, 244) 1px solid;\r\n  // 스크롤바 생성\r\n  overflow-y: scroll;\r\n  // 스크롤바 미노출\r\n  -ms-overflow-style: none; /* IE and Edge */\r\n  scrollbar-width: none;\r\n\r\n  ::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n\r\n  @media (max-width: 860px) {\r\n    width: 95%;\r\n  }\r\n`;\r\n\r\nexport const TitleBox = styled.div`\r\n  height: 53px;\r\n  width: 100%;\r\n  border-bottom: rgb(239, 243, 244) 1px solid;\r\n`;\r\n\r\nexport const Title = styled.div`\r\n  font-size: 20px;\r\n  font-weight: 700;\r\n  line-height: 24px;\r\n  text-decoration: none solid rgb(15, 20, 25);\r\n  white-space: nowrap;\r\n  margin: auto;\r\n  padding: 16px 16px 0 16px;\r\n  padding-bottom: 16px;\r\n`;\r\n\r\nconst Home = () => {\r\n  const userInfo = useContext(AuthContext);\r\n  const [nweets, setNweets] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // use Effect 안에서 async를 사용하지못함..\r\n    // 랜더링 이슈로 async를 사용하는 것이 좋은거 같지 않음.\r\n    onSnapshot(fireCollection, snapShot => {\r\n      const nweetsInfo: any = snapShot.docs.map((ele: any) => {\r\n        return {\r\n          id: ele.id,\r\n          ...ele.data()\r\n        };\r\n      });\r\n      setNweets(nweetsInfo);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Main>\r\n      <TitleBox>\r\n        <Title> Home </Title>\r\n      </TitleBox>\r\n      <div>\r\n        <NweetsFrom user={userInfo?.user} />\r\n        {nweets\r\n          .sort((a: any, b: any) => b.createdAd - a.createdAd)\r\n          .map((ele: any) => (\r\n            <Nweets key={ele.id} info={ele} isOwner={ele.userId === userInfo?.user?.uid} />\r\n          ))}\r\n      </div>\r\n    </Main>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { doc, getDocs, onSnapshot, query, updateDoc, where } from \"@firebase/firestore\";\r\nimport { firebaseAuth, fireCollection, firestore } from \"firebase\";\r\nimport { signOut, updateProfile } from \"@firebase/auth\";\r\nimport { Main, Title, TitleBox } from \"./Home\";\r\nimport Nweets from \"components/Nweets\";\r\nimport styled from \"styled-components\";\r\n\r\nconst ProfileDiv = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 1rem;\r\n  border-bottom: rgb(239, 243, 244) 1px solid;\r\n`;\r\n\r\nconst Msg = styled.div`\r\n  margin-top: 5rem;\r\n  font-size: 1.2rem;\r\n  text-align: center;\r\n`;\r\nconst Profile = ({ user, updateUser }: any) => {\r\n  const [userNweets, setuserNweets] = useState([]);\r\n  const [newdisplayName, setNewDisplayName] = useState(user.displayName);\r\n\r\n  const history = useHistory();\r\n  const handleLogout = () => {\r\n    signOut(firebaseAuth);\r\n    history.push(\"/\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    // 자신이 올린 Nweets 모아보기\r\n    onSnapshot(fireCollection, snapShot => {\r\n      const nweets: any = snapShot.docs\r\n        .filter((ele: any) => ele.data().userId === user.uid)\r\n        .map((ele: any) => {\r\n          return {\r\n            id: ele.id,\r\n            ...ele.data()\r\n          };\r\n        });\r\n\r\n      setuserNweets(nweets);\r\n    });\r\n  }, []);\r\n\r\n  const handleNickSumbit = async (e: React.SyntheticEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (newdisplayName === user.displayName) return;\r\n    await updateProfile(user, { displayName: newdisplayName });\r\n    await updateUser(newdisplayName);\r\n\r\n    // 닉네임이 업데이트 되면 리스트 데이터의 닉네임도 다 같이 변경되어야함\r\n    const userInfo = await where(\"userId\", \"==\", user.uid);\r\n    const _query = await query(fireCollection, userInfo);\r\n    const querySnapshot = await getDocs(_query);\r\n    querySnapshot.forEach(document => {\r\n      updateDoc(doc(firestore, `nweets/${document.id}`), {\r\n        userNickName: newdisplayName\r\n      });\r\n    });\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const {\r\n      target: { value }\r\n    } = e;\r\n    setNewDisplayName(value);\r\n  };\r\n\r\n  return (\r\n    <Main>\r\n      <TitleBox>\r\n        <Title> Profile </Title>\r\n      </TitleBox>\r\n      <ProfileDiv>\r\n        <form onSubmit={handleNickSumbit}>\r\n          <input placeholder=\"닉네임을 입력\" value={newdisplayName} onChange={handleChange}></input>\r\n          <button type={\"submit\"}>Edit NickName</button>\r\n        </form>\r\n        <button onClick={handleLogout}> Logout </button>\r\n      </ProfileDiv>\r\n\r\n      <TitleBox>\r\n        <Title> My Nweets </Title>\r\n      </TitleBox>\r\n      <div>\r\n        {userNweets.length === 0 ? (\r\n          <Msg>\r\n            작성된 Nweets이 없습니다 <br />\r\n          </Msg>\r\n        ) : (\r\n          userNweets\r\n            .sort((a: any, b: any) => b.createdAd - a.createdAd)\r\n            .map((ele: any, idx) => {\r\n              return <Nweets key={idx} info={ele} isOwner={ele.userId === user.uid} />;\r\n            })\r\n        )}\r\n      </div>\r\n    </Main>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import { signOut } from \"@firebase/auth\";\r\nimport { AuthContext } from \"context\";\r\nimport { firebaseAuth } from \"firebase\";\r\nimport { useContext } from \"react\";\r\nimport { MdAccountCircle, MdHome } from \"react-icons/md\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport defaultImg from \"../assets/default.png\";\r\n\r\nconst IconBox = styled.div`\r\n  display: flex;\r\n  width: 25px;\r\n  height: 25px;\r\n  margin: auto;\r\n  padding-left: 1rem;\r\n  padding-right: 1rem;\r\n`;\r\n\r\nconst NavItem = styled(Link)`\r\n  display: flex;\r\n  height: 58.25px;\r\n  padding: 4px 0 4px 0;\r\n`;\r\n\r\nconst Item = styled.div`\r\n  display: flex;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  text-align: center;\r\n  border-radius: 2rem;\r\n  /* font-weight: 700; */\r\n\r\n  :hover {\r\n    background-color: #e7e7e8;\r\n  }\r\n`;\r\n\r\nconst Header = styled.header`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  width: 234px;\r\n  height: 100vh;\r\n  border-right: rgb(239, 243, 244) 1px solid;\r\n\r\n  @media (max-width: 860px) {\r\n    width: 65px;\r\n  }\r\n`;\r\n\r\nconst Text = styled.span`\r\n  padding-right: 1rem;\r\n  font-size: 20px;\r\n  /* font-weight: 700; */\r\n  text-decoration: none solid rgb(15, 20, 25);\r\n  white-space: nowrap;\r\n  word-spacing: 0;\r\n\r\n  @media (max-width: 860px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst Img = styled.img`\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 5rem;\r\n  margin-left: 0.5rem;\r\n  margin-right: 0.5rem;\r\n`;\r\n\r\nconst Strong = styled.strong`\r\n  font-weight: 700;\r\n`;\r\n\r\nconst UserBox = styled.div`\r\n  display: flex;\r\n  margin-bottom: 1rem;\r\n  width: 283px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst UserSetting = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n\r\n  @media (max-width: 860px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst LogoutButton = styled.button`\r\n  height: 20px;\r\n  margin: auto;\r\n  margin-left: 4rem;\r\n  border: none;\r\n`;\r\n\r\nconst Icon = ({ type }: any): any => {\r\n  const IconSvg = (): any => {\r\n    switch (type) {\r\n      case \"Icon\":\r\n        return (\r\n          <path d=\"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z\"></path>\r\n        );\r\n      case \"Home\":\r\n        return <MdHome size=\"1.5rem\" />;\r\n      case \"Profile\":\r\n        return <MdAccountCircle size=\"1.5rem\" />;\r\n      default:\r\n        return <path></path>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <IconBox>\r\n      <svg viewBox=\"0 0 24 24\" aria-hidden=\"true\">\r\n        <g>\r\n          <IconSvg />\r\n        </g>\r\n      </svg>\r\n    </IconBox>\r\n  );\r\n};\r\n\r\nconst NavList = ({ type }: any) => {\r\n  return (\r\n    <NavItem to={`/${type.toLowerCase()}`}>\r\n      <Item defaultValue={location.pathname}>\r\n        <Icon type={type} />\r\n        <Text>{type === \"Icon\" ? \"\" : type}</Text>\r\n      </Item>\r\n    </NavItem>\r\n  );\r\n};\r\n\r\nconst Navigator = () => {\r\n  const userInfo = useContext(AuthContext);\r\n  const history = useHistory();\r\n  const handleLogout = () => {\r\n    signOut(firebaseAuth).then(() => {\r\n      history.push(\"/\");\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Header>\r\n      <div>\r\n        <NavList type=\"Icon\"> </NavList>\r\n        <NavList type=\"Home\"> </NavList>\r\n\r\n        <NavList type=\"Profile\"> </NavList>\r\n        {userInfo?.isLogin ? <></> : \"\"}\r\n      </div>\r\n      <UserBox>\r\n        <Link to=\"/profile\">\r\n          <Img\r\n            src={userInfo?.user?.photoURL === null ? defaultImg : userInfo?.user?.photoURL}\r\n          ></Img>\r\n        </Link>\r\n        <UserSetting>\r\n          <div>\r\n            <Strong>{userInfo?.user?.displayName}</Strong>\r\n            <LogoutButton onClick={handleLogout}>Logout</LogoutButton>\r\n          </div>\r\n          <div style={{ color: \"#677682\" }}>{userInfo?.user?.email}</div>\r\n        </UserSetting>\r\n      </UserBox>\r\n    </Header>\r\n  );\r\n};\r\n\r\nexport default Navigator;\r\n","import { HashRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport Auth from \"route/Auth\";\r\nimport Home from \"route/Home\";\r\nimport Profile from \"route/Profile\";\r\nimport Navigator from \"components/Navigator\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"context\";\r\n\r\nconst Routes = () => {\r\n  const userInfo = useContext(AuthContext);\r\n  return (\r\n    <Router>\r\n      {userInfo?.init && userInfo?.isLogin ? (\r\n        <>\r\n          <Navigator />\r\n\r\n          <Switch>\r\n            <Route exact path=\"/profile\">\r\n              <Profile user={userInfo?.user} updateUser={userInfo?.updateUser}></Profile>\r\n            </Route>\r\n            <Route exact path=\"/\">\r\n              <Home />\r\n            </Route>\r\n            <Route path=\"*\">\r\n              <Home />\r\n            </Route>\r\n          </Switch>\r\n        </>\r\n      ) : (\r\n        <Auth />\r\n      )}\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { User } from \"@firebase/auth\";\r\nimport { firebaseAuth } from \"firebase\";\r\nimport { AuthContext } from \"context\";\r\nimport _ from \"lodash\";\r\n\r\nexport const AuthProvider: React.FC = ({ children }) => {\r\n  const [init, setInit] = useState(false);\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [isLogin, setIsLogin] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = firebaseAuth.onAuthStateChanged(firebaseUser => {\r\n      setUser(firebaseUser);\r\n      setIsLogin(firebaseUser ? true : false);\r\n      setInit(true);\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  // 유저 정보 변경\r\n  const updateUser = (newdisplayName: string) => {\r\n    const currentUser: any = firebaseAuth.currentUser;\r\n    currentUser.displayName = newdisplayName;\r\n    setUser(_.cloneDeep(currentUser));\r\n  };\r\n\r\n  let userValue = {\r\n    init,\r\n    user,\r\n    setUser,\r\n    isLogin,\r\n    setIsLogin,\r\n    updateUser\r\n  };\r\n\r\n  return <AuthContext.Provider value={userValue}>{children}</AuthContext.Provider>;\r\n};\r\n","import React, { useContext } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport styled from \"styled-components\";\nimport Loading from \"./components/Loading\";\nimport Routes from \"Router\";\nimport \"./reset.css\";\nimport { AuthProvider } from \"provider/AuthProvider\";\nimport { AuthContext } from \"context\";\n\n// TODO:메인 스타일을 여기서 해주는게 맞는가?\nconst Root = styled.div`\n  display: flex;\n  justify-content: center;\n  height: 100vh;\n`;\n\nconst App = () => {\n  const userInfo = useContext(AuthContext);\n\n  return (\n    <Root className=\"App\">\n      {userInfo?.init ? <Routes /> : <Loading />}\n      {/* <footer>&copy; nwitter </footer> */}\n    </Root>\n  );\n};\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}