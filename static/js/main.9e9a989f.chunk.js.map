{"version":3,"sources":["route/nweet/style.tsx","route/nweet/index.tsx","Router.tsx","provider/AuthProvider.tsx","reset.css.js","index.tsx","firebase.tsx","components/form/style.tsx","context/context.tsx","assets/default.png","components/nweet/Nweets.tsx","components/loading/index.tsx","components/button/style.tsx","components/button/NweetBtns.tsx","components/layout/style.tsx","components/layout/index.tsx","components/form/NweetsForm.tsx"],"names":["UserBox","styled","div","button","ImgBox","Img","img","Content","UserValue","NickName","h2","Text","p","Time","span","Nweet","userId","useParams","useState","nweet","setNweet","subNweet","setSubNweet","useEffect","onSnapshot","fireCollection","snapShot","nweetInfo","docs","filter","ele","id","map","relayListData","data","relay","_","a","getDoc","doc","firestore","Promise","all","then","results","createdAd","relayList","titleName","length","src","userPhotoURL","defaultImg","userNickName","text","fileUrl","Date","toDateString","like","relayId","sort","b","Nweets","info","isOwner","firebaseAuth","currentUser","uid","Home","lazy","Auth","Profile","Navigator","Routes","userInfo","useContext","AuthContext","fallback","init","isLogin","exact","path","AuthProvider","children","setInit","setIsLogin","displayName","setDisplayName","onAuthStateChanged","firebaseUser","userValue","updateUser","newdisplayName","Provider","value","GlobalStyle","createGlobalStyle","App","className","ReactDOM","render","StrictMode","document","getElementById","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","getAuth","getFirestore","collection","fireStoage","getAnalytics","getStorage","googleLoginProvider","GoogleAuthProvider","LoginForm","form","AuthInput","input","AuthButton","NweetForm","FileInput","NweetsInput","UploadBox","NweetBtn","React","createContext","NweetData","Contents","ContentHeader","NweetImg","Title","Button","SettingBtn","InfoText","InputFix","DefaultButton","isEdit","setIsEdit","editText","setEditText","history","useHistory","handleDelete","e","stopPropagation","parent","confirm","deleteDoc","deleteObject","ref","updateDoc","handleSumbit","preventDefault","prev","onClick","push","alt","getMonth","getDate","onSubmit","type","placeholder","onChange","target","LoadingContainer","LoadingNweetContainer","Loading","color","height","width","LoadingNweet","radius","BtnBox","NweetsBtns","isLoginUserLike","includes","handleLikeBtnClick","likeData","size","Main","TitleBox","ArrowIcon","FiArrowLeft","LayoutContents","goBack","NweetsFrom","setText","uploadFile","setUploadFile","handleSubmit","alert","uuidv4","fileRef","uploadString","getDownloadURL","addDoc","now","photoURL","undefined","maxLength","htmlFor","accept","files","reader","FileReader","onloadend","String","result","readAsDataURL"],"mappings":"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","file":"static/js/main.9e9a989f.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const TitleBox = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 53px;\r\n  width: 100%;\r\n  border-bottom: rgb(239, 243, 244) 1px solid;\r\n`;\r\n\r\nexport const ArrowLeftbtn = styled.button`\r\n  background: none;\r\n  border: none;\r\n  padding-left: 0.5rem;\r\n  padding-right: 0.5rem;\r\n`;\r\n\r\nexport const Title = styled.div`\r\n  font-size: 20px;\r\n  font-weight: 700;\r\n  line-height: 24px;\r\n  text-decoration: none solid rgb(15, 20, 25);\r\n  white-space: nowrap;\r\n  padding: 16px 16px 0 0px;\r\n  padding-bottom: 16px;\r\n`;\r\n\r\nexport const UserBox = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport const ImgBox = styled.div`\r\n  width: 50px;\r\n  height: 50px;\r\n`;\r\n\r\nexport const Img = styled.img`\r\n  width: 100%;\r\n  border-radius: 5rem;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  padding: 10px;\r\n  border-bottom: rgb(239, 243, 244) 1px solid;\r\n`;\r\n\r\nexport const UserValue = styled.div`\r\n  margin-left: 0.5rem;\r\n`;\r\n\r\nexport const NickName = styled.h2`\r\n  font-weight: 700;\r\n  font-size: 1.2rem;\r\n  margin-bottom: 0.3rem;\r\n`;\r\n\r\nexport const Text = styled.p`\r\n  margin-top: 1rem;\r\n  margin-bottom: 0.8rem;\r\n  font-size: 1.2rem;\r\n`;\r\n\r\nexport const Time = styled.span`\r\n  font-size: 14px;\r\n  color: rgb(83, 100, 113);\r\n`;\r\n","import { doc, getDoc, onSnapshot } from \"@firebase/firestore\";\r\nimport { LoadingNweet } from \"components/loading/index\";\r\nimport { firebaseAuth, fireCollection, firestore } from \"firebase\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport defaultImg from \"assets/default.png\";\r\nimport NweetsFrom from \"components/form/NweetsForm\";\r\nimport NweetsBtns from \"components/button/NweetBtns\";\r\nimport Nweets, { NweetImg } from \"components/nweet/Nweets\";\r\nimport { NweetsType } from \"models/nweetType\";\r\nimport { Content, Img, ImgBox, NickName, Text, Time, UserBox, UserValue } from \"./style\";\r\nimport { LayoutContents } from \"components/layout\";\r\n\r\nconst Nweet = () => {\r\n  const { userId } = useParams<{ userId?: string }>();\r\n  const [nweet, setNweet] = useState<NweetsType[]>();\r\n  const [subNweet, setSubNweet] = useState<any>([]);\r\n\r\n  useEffect(() => {\r\n    onSnapshot(fireCollection, snapShot => {\r\n      const nweetInfo: any = snapShot.docs\r\n        .filter(ele => ele.id === userId)\r\n        .map(ele => {\r\n          let relayListData;\r\n          if (ele.data().relay) {\r\n            relayListData = ele.data().relay.map(async (_: any) => {\r\n              const data: any = (await getDoc(doc(firestore, `nweets/${_}`))).data();\r\n              return { data, id: _ };\r\n            });\r\n\r\n            Promise.all(relayListData).then(results => {\r\n              setSubNweet(results);\r\n            });\r\n          }\r\n\r\n          return {\r\n            id: ele.id,\r\n            createdAd: ele.data().createdAd,\r\n            relayList: [],\r\n            ...ele.data()\r\n          };\r\n        });\r\n      setNweet(nweetInfo);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <LayoutContents titleName={\"Nweet\"}>\r\n      <Content>\r\n        {nweet?.length === 1 ? (\r\n          <article>\r\n            <UserBox>\r\n              <ImgBox>\r\n                <Img src={nweet?.[0].userPhotoURL ? nweet?.[0].userPhotoURL : defaultImg}></Img>\r\n              </ImgBox>\r\n              <UserValue>\r\n                <NickName>{nweet?.[0].userNickName}</NickName>\r\n                <div>{nweet?.[0].id}</div>\r\n              </UserValue>\r\n            </UserBox>\r\n\r\n            <div>\r\n              <Text> {nweet?.[0].text}</Text>\r\n              <NweetImg src={nweet?.[0].fileUrl} />\r\n              <Time>{new Date(nweet?.[0].createdAd).toDateString()}</Time>\r\n              <NweetsBtns like={nweet?.[0].like} id={nweet?.[0].id} relay={nweet?.[0].relay} />\r\n            </div>\r\n          </article>\r\n        ) : (\r\n          <LoadingNweet />\r\n        )}\r\n      </Content>\r\n\r\n      <div>\r\n        <NweetsFrom relayId={nweet?.[0].id} relay={nweet?.[0].relay} />\r\n        {subNweet.length === 0\r\n          ? \"\"\r\n          : subNweet &&\r\n            subNweet\r\n              .sort((a: any, b: any) => b.createdAd - a.createdAd)\r\n              .map((ele: any) => (\r\n                <Nweets\r\n                  key={ele.id}\r\n                  info={{ id: ele.id, ...ele.data }}\r\n                  isOwner={ele.data.userId === firebaseAuth.currentUser?.uid}\r\n                />\r\n              ))}\r\n      </div>\r\n    </LayoutContents>\r\n  );\r\n};\r\n\r\nexport default Nweet;\r\n","import { HashRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { useContext, lazy, Suspense } from \"react\";\r\nimport { AuthContext } from \"context/context\";\r\nimport Nweet from \"route/nweet\";\r\n\r\nconst Home = lazy(() => import(\"route/home/index\"));\r\nconst Auth = lazy(() => import(\"route/auth/index\"));\r\nconst Profile = lazy(() => import(\"route/profile/Profile\"));\r\nconst Navigator = lazy(() => import(\"components/navigator/Navigator\"));\r\n\r\nconst Routes = () => {\r\n  const userInfo = useContext(AuthContext);\r\n  return (\r\n    <Suspense fallback={<div>loading...</div>}>\r\n      <Router>\r\n        {userInfo?.init && userInfo?.isLogin ? (\r\n          <>\r\n            <Navigator />\r\n\r\n            <Switch>\r\n              <Route exact path=\"/profile\">\r\n                <Profile></Profile>\r\n              </Route>\r\n              <Route exact path=\"/home\">\r\n                <Home />\r\n              </Route>\r\n\r\n              <Route exact path=\"/:userId/:createTime\">\r\n                <Nweet />\r\n              </Route>\r\n\r\n              <Route path=\"*\">\r\n                <Home />\r\n              </Route>\r\n            </Switch>\r\n          </>\r\n        ) : (\r\n          <Auth />\r\n        )}\r\n      </Router>\r\n    </Suspense>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { firebaseAuth } from \"firebase\";\r\nimport { AuthContext } from \"context/context\";\r\n\r\nexport const AuthProvider: React.FC = ({ children }) => {\r\n  const [init, setInit] = useState(false);\r\n  const [isLogin, setIsLogin] = useState(false);\r\n  const [displayName, setDisplayName] = useState<string | null | undefined>(\"\");\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = firebaseAuth.onAuthStateChanged(firebaseUser => {\r\n      setDisplayName(firebaseUser?.displayName);\r\n      setIsLogin(firebaseUser ? true : false);\r\n      setInit(true);\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  // 유저 정보 변경\r\n  const updateUser = (newdisplayName: any) => {\r\n    setDisplayName(newdisplayName);\r\n  };\r\n\r\n  let userValue = {\r\n    init,\r\n    isLogin,\r\n    setIsLogin,\r\n    updateUser,\r\n    displayName\r\n  };\r\n\r\n  return <AuthContext.Provider value={userValue}>{children}</AuthContext.Provider>;\r\n};\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\n/* http://meyerweb.com/eric/tools/css/reset/ \r\n   v2.0 | 20110126\r\n   License: none (public domain)\r\n*/\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\nhtml,\r\nbody,\r\ndiv,\r\nspan,\r\napplet,\r\nobject,\r\niframe,\r\nh1,\r\nh2,\r\nh3,\r\nh4,\r\nh5,\r\nh6,\r\np,\r\nblockquote,\r\npre,\r\na,\r\nabbr,\r\nacronym,\r\naddress,\r\nbig,\r\ncite,\r\ncode,\r\ndel,\r\ndfn,\r\nem,\r\nimg,\r\nins,\r\nkbd,\r\nq,\r\ns,\r\nsamp,\r\nsmall,\r\nstrike,\r\nstrong,\r\nsub,\r\nsup,\r\ntt,\r\nvar,\r\nb,\r\nu,\r\ni,\r\ncenter,\r\ndl,\r\ndt,\r\ndd,\r\nol,\r\nul,\r\nli,\r\nfieldset,\r\nform,\r\nlabel,\r\nlegend,\r\ntable,\r\ncaption,\r\ntbody,\r\ntfoot,\r\nthead,\r\ntr,\r\nth,\r\ntd,\r\narticle,\r\naside,\r\ncanvas,\r\ndetails,\r\nembed,\r\nfigure,\r\nfigcaption,\r\nfooter,\r\nheader,\r\nhgroup,\r\nmenu,\r\nnav,\r\noutput,\r\nruby,\r\nsection,\r\nsummary,\r\ntime,\r\nmark,\r\naudio,\r\nvideo {\r\n  margin: 0;\r\n  padding: 0;\r\n  border: 0;\r\n  font-size: 100%;\r\n  font: inherit;\r\n  vertical-align: baseline;\r\n}\r\n/* HTML5 display-role reset for older browsers */\r\narticle,\r\naside,\r\ndetails,\r\nfigcaption,\r\nfigure,\r\nfooter,\r\nheader,\r\nhgroup,\r\nmenu,\r\nnav,\r\nsection {\r\n  display: block;\r\n}\r\nbody {\r\n  line-height: 1;\r\n}\r\nol,\r\nul {\r\n  list-style: none;\r\n}\r\nblockquote,\r\nq {\r\n  quotes: none;\r\n}\r\nblockquote:before,\r\nblockquote:after,\r\nq:before,\r\nq:after {\r\n  content: \"\";\r\n  content: none;\r\n}\r\ntable {\r\n  border-collapse: collapse;\r\n  border-spacing: 0;\r\n}\r\n\r\n/* a-style */\r\n\r\na {\r\n  color: black;\r\n  text-decoration: none;\r\n  outline: none;\r\n}\r\n\r\na:hover,\r\na:active {\r\n  text-decoration: none;\r\n  /* color: #fff; */\r\n  /* background-color: #f59000; */\r\n}\r\n\r\n.App {\r\n  display: flex;\r\n  justify-content: center;\r\n  @media (max-width: 450px) {\r\n    flex-direction: column-reverse;\r\n  }\r\n}\r\n`;\r\n\r\nexport default GlobalStyle;\r\n","import React, { useContext } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Loading } from \"components/loading/index\";\nimport Routes from \"Router\";\nimport { AuthProvider } from \"provider/AuthProvider\";\nimport { AuthContext } from \"context/context\";\nimport GlobalStyle from \"./reset.css.js\";\n\nconst App = () => {\n  const userInfo = useContext(AuthContext);\n\n  return (\n    <div className=\"App\">\n      <GlobalStyle />\n      {userInfo?.init ? <Routes /> : <Loading />}\n      {/* <footer>&copy; nwitter </footer> */}\n    </div>\n  );\n};\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\nimport { getStorage } from \"firebase/storage\";\r\nimport { getFirestore, collection } from \"firebase/firestore\";\r\nimport { getAuth, GoogleAuthProvider } from \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_APIKEY,\r\n  authDomain: process.env.REACT_APP_AUTHDOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n};\r\n\r\n// Initialize Firebase\r\nexport const firebase = initializeApp(firebaseConfig);\r\nexport const firebaseAuth = getAuth();\r\nexport const firestore = getFirestore(firebase);\r\nexport const fireCollection = collection(firestore, \"nweets\");\r\nexport const analytics = getAnalytics(firebase);\r\nexport const fireStoage = getStorage(firebase);\r\n\r\n// 구글 로그인\r\nexport const googleLoginProvider = new GoogleAuthProvider();\r\n","import styled from \"styled-components\";\r\n\r\nexport const LoginForm = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-size: 1.2rem;\r\n  line-height: 2rem;\r\n  font-weight: 700;\r\n`;\r\n\r\nexport const AuthInput = styled.input`\r\n  width: 80%;\r\n  margin-bottom: 1rem;\r\n  height: 2rem;\r\n  border-radius: 0.5rem;\r\n  border: none;\r\n  border-bottom: rgb(239, 243, 244) 1px solid;\r\n  padding-left: 0.8rem;\r\n  font-size: 1.2rem;\r\n  prefix: 1rem;\r\n`;\r\n\r\nexport const AuthButton = styled.button`\r\n  width: 80%;\r\n  height: 2rem;\r\n  margin-bottom: 1rem;\r\n  font-size: 1rem;\r\n  font-weight: 700;\r\n  background-color: white;\r\n  border-radius: 0.5rem;\r\n  border: solid 1px black;\r\n`;\r\n\r\n//// nweet from\r\n\r\nexport const NweetForm = styled.form`\r\n  display: flex;\r\n  padding: 10px;\r\n  border-bottom: rgb(239, 243, 244) 1px solid;\r\n`;\r\n\r\nexport const Img = styled.img`\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 5rem;\r\n  margin-left: 0.5rem;\r\n  margin-right: 0.5rem;\r\n`;\r\n\r\nexport const FileInput = styled.input`\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  margin: -1px;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  border: 0;\r\n`;\r\n\r\nexport const NweetsInput = styled.input`\r\n  border: none;\r\n  margin-top: 1rem;\r\n  font-size: 20px;\r\n  width: 100%;\r\n`;\r\n\r\nexport const UploadBox = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  margin-top: 1rem;\r\n  padding-top: 1rem;\r\n  border-top: rgb(239, 243, 244) 1px solid;\r\n`;\r\n\r\nexport const NweetBtn = styled.button`\r\n  background-color: #1d9bf0;\r\n  color: white;\r\n  height: 36px;\r\n  width: 75.9688px;\r\n  font-weight: 700;\r\n  font-size: 15px;\r\n  border: none;\r\n  border-radius: 2rem;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  width: 100%;\r\n`;\r\n","import React from \"react\";\r\n\r\ninterface Auth {\r\n  init: boolean;\r\n  isLogin: boolean;\r\n  setIsLogin: Function;\r\n  updateUser: Function;\r\n  displayName?: string | null;\r\n}\r\n\r\nexport const AuthContext = React.createContext<Auth | null>(null);\r\n","export default __webpack_public_path__ + \"static/media/default.1a3f2e43.png\";","import { fireStoage, firestore } from \"firebase\";\r\nimport { deleteDoc, doc, getDoc, updateDoc } from \"@firebase/firestore\";\r\nimport React, { useState } from \"react\";\r\nimport { deleteObject, ref } from \"@firebase/storage\";\r\nimport styled from \"styled-components\";\r\nimport defaultImg from \"assets/default.png\";\r\nimport { MdDelete, MdOutlineEdit } from \"react-icons/md\";\r\nimport { useHistory } from \"react-router\";\r\nimport NweetBtn from \"components/button/NweetBtns\";\r\n\r\nconst NweetData = styled.div`\r\n  display: flex;\r\n  padding: 10px;\r\n  min-height: 60px;\r\n  border-bottom: rgb(239, 243, 244) 1px solid;\r\n  justify-content: space-between;\r\n\r\n  &:hover {\r\n    background-color: #f3f4f6;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst Img = styled.img`\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 5rem;\r\n  margin-left: 0.5rem;\r\n  margin-right: 0.5rem;\r\n`;\r\n\r\nconst Contents = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nconst ContentHeader = styled.h2`\r\n  margin-bottom: 0.5rem;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const NweetImg = styled.img`\r\n  max-width: 100%;\r\n  width: 96%;\r\n  height: auto;\r\n  border: solid 1px #d6dfe3;\r\n  border-radius: 1rem;\r\n  margin-top: 0.5rem;\r\n`;\r\n\r\nconst Title = styled.span`\r\n  font-weight: 700;\r\n  font-size: 1.2rem;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background: none;\r\n  border: none;\r\n`;\r\n\r\nconst SettingBtn = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport const InfoText = styled.p`\r\n  width: 100%;\r\n  word-break: break-all;\r\n  padding-bottom: 0.5rem;\r\n`;\r\n\r\nconst InputFix = styled.input`\r\n  width: 80%;\r\n`;\r\n\r\nexport const DefaultButton = styled.button`\r\n  border: none;\r\n  color: black;\r\n  /* width: 2.5rem; */\r\n  height: 1.5rem;\r\n`;\r\n\r\ninterface Props {\r\n  info: {\r\n    text?: string;\r\n    id: string;\r\n    fileUrl?: string;\r\n    userPhotoURL?: string;\r\n    userNickName?: string;\r\n    createdAd: number;\r\n    like: string[];\r\n    relay: string[];\r\n    parent: string;\r\n  };\r\n  isOwner: boolean;\r\n}\r\n\r\nconst Nweets: React.FC<Props> = ({ info, isOwner }) => {\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const [editText, setEditText] = useState(info.text);\r\n  const history = useHistory();\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const {\r\n      target: { value }\r\n    } = e;\r\n    setEditText(value);\r\n  };\r\n\r\n  const handleDelete = async (e: React.MouseEvent<HTMLButtonElement>) => {\r\n    e.stopPropagation();\r\n    const data: any = await (await getDoc(doc(firestore, `nweets/${info.parent}`))).data();\r\n    const ok = confirm(\"정말로 삭제하시겠습니까?\");\r\n    if (ok) {\r\n      deleteDoc(doc(firestore, `nweets/${info.id}`));\r\n      if (info.fileUrl) deleteObject(ref(fireStoage, info.fileUrl));\r\n      // 부모 뉴윗에서 제거하기\r\n      if (info.parent)\r\n        updateDoc(doc(firestore, `nweets/${info.parent}`), {\r\n          relay: data && data.relay.filter((ele: any) => ele !== info.id)\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleToggle = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n    e.stopPropagation();\r\n    setIsEdit(prev => !prev);\r\n  };\r\n\r\n  const handleSumbit = async (e: React.SyntheticEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    setIsEdit(prev => !prev);\r\n\r\n    await updateDoc(doc(firestore, `nweets/${info.id}`), {\r\n      text: editText\r\n    });\r\n  };\r\n\r\n  const hanldNweetClick = () => {\r\n    history.push(`/${info.id}/${info.createdAd}`);\r\n  };\r\n\r\n  return (\r\n    <div key={info.id}>\r\n      <NweetData onClick={hanldNweetClick}>\r\n        <Img src={info.userPhotoURL === null ? defaultImg : info.userPhotoURL} alt=\"\" />\r\n        <Contents>\r\n          <ContentHeader>\r\n            <div>\r\n              <Title>{info.userNickName} </Title>\r\n              {` · ${new Date(info.createdAd).getMonth() + 1}/${new Date(\r\n                info.createdAd\r\n              ).getDate()}`}\r\n            </div>\r\n\r\n            {isOwner && (\r\n              <SettingBtn>\r\n                <Button onClick={handleDelete}>\r\n                  <MdDelete />\r\n                </Button>\r\n                <Button onClick={handleToggle}>\r\n                  <MdOutlineEdit />\r\n                </Button>\r\n              </SettingBtn>\r\n            )}\r\n          </ContentHeader>\r\n\r\n          {isEdit ? (\r\n            <form onSubmit={handleSumbit}>\r\n              <InputFix\r\n                type=\"text\"\r\n                placeholder={\"수정할 데이터를 입력해주세요\"}\r\n                onChange={handleChange}\r\n                onClick={e => {\r\n                  // 불필요하게 중복된 소스인듯.. 못고칠까?\r\n                  e.stopPropagation();\r\n                }}\r\n                value={editText}\r\n              />\r\n              <DefaultButton\r\n                type=\"submit\"\r\n                onClick={e => {\r\n                  // 불필요하게 중복된 소스인듯.. 못고칠까?\r\n                  e.stopPropagation();\r\n                }}\r\n              >\r\n                완료\r\n              </DefaultButton>\r\n            </form>\r\n          ) : (\r\n            <InfoText> {info.text} </InfoText>\r\n          )}\r\n\r\n          {info.fileUrl && <NweetImg src={info.fileUrl} />}\r\n\r\n          <NweetBtn id={info.id} like={info.like} relay={info.relay} />\r\n        </Contents>\r\n      </NweetData>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Nweets;\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport styled from \"styled-components\";\r\n\r\nconst LoadingContainer = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n`;\r\n\r\nconst LoadingNweetContainer = styled.div`\r\n  width: 100%;\r\n  text-align: center;\r\n  margin-top: 0.5rem;\r\n`;\r\n\r\nexport const Loading: React.FC = () => {\r\n  return (\r\n    <LoadingContainer>\r\n      <Loader type=\"Rings\" color=\"#000000\" height={80} width={80} />\r\n      <div>loading... </div>\r\n    </LoadingContainer>\r\n  );\r\n};\r\n\r\nexport const LoadingNweet = () => {\r\n  return (\r\n    <LoadingNweetContainer>\r\n      <Loader type=\"TailSpin\" height={30} width={30} color=\"#1d9bf0\" radius={10} />\r\n    </LoadingNweetContainer>\r\n  );\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nexport const Contents = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  margin-top: 0.5rem;\r\n`;\r\n\r\nexport const BtnBox = styled.button`\r\n  border: none;\r\n  background: none;\r\n  width: 25px;\r\n  height: 25px;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    border-radius: 5rem;\r\n    background-color: #e1eef6;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { doc, updateDoc } from \"@firebase/firestore\";\r\nimport { firebaseAuth, firestore } from \"firebase\";\r\nimport { AiOutlineRetweet } from \"react-icons/ai\";\r\nimport { BiShare } from \"react-icons/bi\";\r\nimport { FcLike } from \"react-icons/fc\";\r\nimport { GoComment } from \"react-icons/go\";\r\nimport { HiOutlineHeart } from \"react-icons/hi\";\r\nimport { BtnBox, Contents } from \"./style\";\r\n\r\ninterface Props {\r\n  id: string;\r\n  like: string[];\r\n  relay: string[];\r\n}\r\n\r\nconst NweetsBtns: React.FC<Props> = ({ like = [], relay = [], id }) => {\r\n  const isLoginUserLike = () => {\r\n    return like.includes(firebaseAuth.currentUser?.uid ? firebaseAuth.currentUser?.uid : \"\");\r\n  };\r\n  const handleLikeBtnClick = async (e: React.MouseEvent<HTMLButtonElement>) => {\r\n    e.stopPropagation();\r\n\r\n    let likeData;\r\n    if (isLoginUserLike()) {\r\n      likeData = [...like].filter(ele => ele !== firebaseAuth.currentUser?.uid);\r\n    } else {\r\n      likeData = [...like, firebaseAuth.currentUser?.uid];\r\n    }\r\n    await updateDoc(doc(firestore, `nweets/${id}`), {\r\n      like: likeData\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Contents>\r\n      <div>\r\n        <BtnBox>\r\n          <GoComment size={15} />\r\n        </BtnBox>\r\n        {relay.length > 0 ? relay.length : \"\"}\r\n      </div>\r\n      <div>\r\n        <BtnBox>\r\n          <AiOutlineRetweet size={15} />\r\n        </BtnBox>\r\n      </div>\r\n      <div>\r\n        {isLoginUserLike() ? (\r\n          <BtnBox onClick={handleLikeBtnClick}>\r\n            <FcLike size={15} />\r\n          </BtnBox>\r\n        ) : (\r\n          <BtnBox onClick={handleLikeBtnClick}>\r\n            <HiOutlineHeart size={15} />\r\n          </BtnBox>\r\n        )}\r\n\r\n        {like && like.length > 0 ? like.length : \"\"}\r\n      </div>\r\n      <div>\r\n        <BtnBox>\r\n          <BiShare size={15} />\r\n        </BtnBox>\r\n      </div>\r\n    </Contents>\r\n  );\r\n};\r\n\r\nexport default NweetsBtns;\r\n","import { FiArrowLeft } from \"react-icons/fi\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const Main = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  width: 620px;\r\n  border-right: rgb(239, 243, 244) 1px solid;\r\n\r\n  @media (max-width: 860px) {\r\n    width: 95%;\r\n    margin-bottom: 3rem;\r\n  }\r\n`;\r\n\r\nexport const TitleBox = styled.div`\r\n  display: flex;\r\n  height: 53px;\r\n  width: 100%;\r\n  border-bottom: rgb(239, 243, 244) 1px solid;\r\n`;\r\n\r\nexport const ArrowIcon = styled(FiArrowLeft)`\r\n  border-radius: 2rem;\r\n  padding: 0.5rem;\r\n  margin: auto 0.5rem;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    background-color: #f3f4f6;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.div`\r\n  font-size: 20px;\r\n  font-weight: 700;\r\n  margin: auto 0;\r\n  padding-left: 1rem;\r\n`;\r\n","import React, { ReactNode } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport styled from \"styled-components\";\r\nimport { Main, Title, TitleBox, ArrowIcon } from \"./style\";\r\n\r\ninterface Props {\r\n  children: ReactNode;\r\n  titleName: string;\r\n}\r\n\r\nexport const LayoutContents: React.FC<Props> = ({ children, titleName }) => {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <Main>\r\n      <TitleBox>\r\n        {titleName !== \"Home\" ? (\r\n          <ArrowIcon\r\n            size={15}\r\n            onClick={() => {\r\n              history.goBack();\r\n            }}\r\n          />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n\r\n        <Title> {titleName} </Title>\r\n      </TitleBox>\r\n      <div>{children}</div>\r\n    </Main>\r\n  );\r\n};\r\n\r\nexport const CenteredFlex = styled.div``;\r\n","/* eslint-disable no-unused-vars */\r\nimport { firebaseAuth, fireCollection, fireStoage, firestore } from \"firebase\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { getDownloadURL, ref, uploadString } from \"@firebase/storage\";\r\nimport defaultImg from \"assets/default.png\";\r\nimport { FiImage } from \"react-icons/fi\";\r\nimport React, { useState } from \"react\";\r\nimport { addDoc, doc, updateDoc } from \"@firebase/firestore\";\r\nimport { DefaultButton, NweetImg } from \"../nweet/Nweets\";\r\nimport { Content, FileInput, Img, NweetBtn, NweetForm, NweetsInput, UploadBox } from \"./style\";\r\n\r\ninterface Props {\r\n  relayId?: string;\r\n  relay?: string[];\r\n}\r\n\r\nconst NweetsFrom: React.FC<Props> = ({ relayId, relay = [] }) => {\r\n  const [text, setText] = useState(\"\");\r\n  const [uploadFile, setUploadFile] = useState<string | undefined | null>(null);\r\n  // 텍스트 입력시\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const {\r\n      target: { value }\r\n    } = e;\r\n    setText(value);\r\n  };\r\n\r\n  // form tag submit시\r\n  const handleSubmit = async (e: React.SyntheticEvent) => {\r\n    e.preventDefault();\r\n\r\n    // 값이 비어있는 경우 예외처리\r\n    if (text === \"\") {\r\n      alert(\"텍스트를 입력해주세욧\");\r\n      return;\r\n    }\r\n\r\n    setText(\"\");\r\n    setUploadFile(null);\r\n\r\n    let fileUrl = \"\";\r\n    if (uploadFile) {\r\n      const fileRef = await ref(fireStoage, `${firebaseAuth.currentUser?.uid}/${uuidv4()}`);\r\n      await uploadString(fileRef, uploadFile, \"data_url\");\r\n      fileUrl = await getDownloadURL(fileRef);\r\n    }\r\n\r\n    await addDoc(fireCollection, {\r\n      text,\r\n      createdAd: Date.now(),\r\n      userId: firebaseAuth.currentUser?.uid,\r\n      userPhotoURL: firebaseAuth.currentUser?.photoURL,\r\n      userNickName: firebaseAuth.currentUser?.displayName,\r\n      like: [],\r\n      relay: [],\r\n      parent: relayId ? relayId : null,\r\n      fileUrl\r\n    }).then(ele => {\r\n      if (relayId) {\r\n        // 부모 컨포넌트에 생겨야한다.\r\n        updateDoc(doc(firestore, `nweets/${relayId}`), {\r\n          relay: [...relay, ele.id]\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const {\r\n      target: { files }\r\n    } = e;\r\n    const uploadFile = files?.[0];\r\n    const reader = new FileReader();\r\n    reader.onloadend = (e: ProgressEvent<FileReader>) => {\r\n      setUploadFile(String(e.target?.result));\r\n    };\r\n    if (uploadFile) reader.readAsDataURL(uploadFile);\r\n  };\r\n\r\n  const handleDeleteImg = () => {\r\n    setUploadFile(null);\r\n  };\r\n\r\n  return (\r\n    <NweetForm onSubmit={handleSubmit}>\r\n      <Img\r\n        src={\r\n          firebaseAuth.currentUser?.photoURL == undefined\r\n            ? defaultImg\r\n            : firebaseAuth.currentUser?.photoURL\r\n        }\r\n      />\r\n\r\n      <Content>\r\n        <NweetsInput\r\n          value={text}\r\n          onChange={handleChange}\r\n          type=\"text\"\r\n          placeholder={relayId ? \"댓글쓰기\" : \"What`s happening?\"}\r\n          maxLength={120}\r\n        ></NweetsInput>\r\n\r\n        {uploadFile && (\r\n          <div>\r\n            <NweetImg src={uploadFile} />\r\n            <DefaultButton onClick={handleDeleteImg}> 이미지 삭제 </DefaultButton>\r\n          </div>\r\n        )}\r\n\r\n        <UploadBox>\r\n          <div>\r\n            <label htmlFor=\"upload\">\r\n              <FiImage size={25} />\r\n            </label>\r\n            <FileInput id=\"upload\" type=\"file\" accept=\"image/*\" onChange={handleFileChange} />\r\n          </div>\r\n\r\n          <NweetBtn type=\"submit\">Nweet</NweetBtn>\r\n        </UploadBox>\r\n      </Content>\r\n    </NweetForm>\r\n  );\r\n};\r\n\r\nexport default NweetsFrom;\r\n"],"sourceRoot":""}