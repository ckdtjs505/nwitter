{"version":3,"sources":["route/home/index.tsx"],"names":["Home","useState","nweets","setNweets","useEffect","onSnapshot","fireCollection","snapShot","nweetsInfo","docs","map","ele","id","createdAd","data","like","relay","parent","titleName","length","sort","a","b","info","isOwner","userId","firebaseAuth","currentUser","uid"],"mappings":"6LAkDeA,UAzCQ,WACrB,MAA4BC,mBAAuB,IAAnD,mBAAOC,EAAP,KAAeC,EAAf,KAoBA,OAlBAC,qBAAU,WAGRC,YAAWC,KAAgB,SAAAC,GACzB,IAAMC,EAA2BD,EAASE,KAAKC,KAAI,SAAAC,GACjD,OAAO,aACLC,GAAID,EAAIC,GACRC,UAAWF,EAAIG,OAAOD,UACtBE,KAAMJ,EAAIG,OAAOC,KACjBC,MAAOL,EAAIG,OAAOE,MAClBC,OAAQN,EAAIG,OAAOG,QAChBN,EAAIG,WAGXX,EAAUK,QAEX,IAGD,eAAC,IAAD,CAAgBU,UAAU,OAA1B,UACE,cAAC,IAAD,IACoB,KAAb,OAANhB,QAAM,IAANA,OAAA,EAAAA,EAAQiB,QACP,cAAC,IAAD,IAEAjB,EACGkB,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAET,UAAYQ,EAAER,aAC/BH,KAAI,SAAAC,GAAG,aACN,cAAC,IAAD,CAEEY,KAAMZ,EACNa,QAASb,EAAIc,UAAJ,UAAeC,IAAaC,mBAA5B,aAAe,EAA0BC,MAF7CjB,EAAIC","file":"static/js/5.6037f41f.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { onSnapshot } from \"@firebase/firestore\";\r\nimport Nweets from \"components/nweet/Nweets\";\r\nimport NweetsFrom from \"components/form/NweetsForm\";\r\nimport { firebaseAuth, fireCollection } from \"firebase\";\r\nimport { LoadingNweet } from \"components/loading/index\";\r\nimport { NweetsType } from \"models/nweetType\";\r\nimport { LayoutContents } from \"components/layout\";\r\n\r\nconst Home: React.FC = () => {\r\n  const [nweets, setNweets] = useState<NweetsType[]>([]);\r\n\r\n  useEffect(() => {\r\n    // use Effect 안에서 async를 사용하지못함..\r\n    // 랜더링 이슈로 async를 사용하는 것이 좋은거 같지 않음.\r\n    onSnapshot(fireCollection, snapShot => {\r\n      const nweetsInfo: NweetsType[] = snapShot.docs.map(ele => {\r\n        return {\r\n          id: ele.id,\r\n          createdAd: ele.data().createdAd,\r\n          like: ele.data().like,\r\n          relay: ele.data().relay,\r\n          parent: ele.data().parent,\r\n          ...ele.data()\r\n        };\r\n      });\r\n      setNweets(nweetsInfo);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <LayoutContents titleName=\"Home\">\r\n      <NweetsFrom />\r\n      {nweets?.length === 0 ? (\r\n        <LoadingNweet />\r\n      ) : (\r\n        nweets\r\n          .sort((a, b) => b.createdAd - a.createdAd)\r\n          .map(ele => (\r\n            <Nweets\r\n              key={ele.id}\r\n              info={ele}\r\n              isOwner={ele.userId === firebaseAuth.currentUser?.uid}\r\n            />\r\n          ))\r\n      )}\r\n    </LayoutContents>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"sourceRoot":""}